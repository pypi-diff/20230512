# Comparing `tmp/odoo12_addon_spec_driven_model-12.0.4.2.0-py3-none-any.whl.zip` & `tmp/odoo12_addon_spec_driven_model-12.0.5.0.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,35 +1,35 @@
-Zip file size: 55926 bytes, number of entries: 33
--rw-r--r--  2.0 unx     7523 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/README.rst
--rw-r--r--  2.0 unx       21 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/__init__.py
--rw-r--r--  2.0 unx      504 b- defN 22-Dec-14 20:33 odoo/addons/spec_driven_model/__manifest__.py
--rw-r--r--  2.0 unx     6146 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/hooks.py
--rw-r--r--  2.0 unx     1388 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/i18n/pt_BR.po
--rw-r--r--  2.0 unx     1106 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/i18n/spec_driven_model.pot
--rw-r--r--  2.0 unx      127 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/models/__init__.py
--rw-r--r--  2.0 unx     9028 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/models/spec_export.py
--rw-r--r--  2.0 unx    12336 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/models/spec_import.py
--rw-r--r--  2.0 unx      729 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/models/spec_mixin.py
--rw-r--r--  2.0 unx    13614 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/models/spec_models.py
--rw-r--r--  2.0 unx    13996 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/models/spec_view.py
--rw-r--r--  2.0 unx        0 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      106 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx     4284 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx        0 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/readme/HISTORY.rst
--rw-r--r--  2.0 unx        0 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/readme/INSTALL.rst
--rw-r--r--  2.0 unx       77 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/readme/ROADMAP.rst
--rw-r--r--  2.0 unx      240 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/readme/USAGE.rst
--rw-r--r--  2.0 unx     9455 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/static/description/icon.png
--rw-r--r--  2.0 unx    17424 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/static/description/index.html
--rw-r--r--  2.0 unx     2466 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/tests/PurchaseOrderSchema.xsd
--rw-r--r--  2.0 unx       30 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/tests/__init__.py
--rw-r--r--  2.0 unx      914 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/tests/fake_mixin.py
--rw-r--r--  2.0 unx     2559 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/tests/fake_odoo_purchase.py
--rw-r--r--  2.0 unx     7419 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/tests/purchase_order_lib.py
--rw-r--r--  2.0 unx     3805 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/tests/spec_poxsd.py
--rw-r--r--  2.0 unx     2260 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/tests/spec_purchase.py
--rw-r--r--  2.0 unx     5325 b- defN 22-Dec-14 20:32 odoo/addons/spec_driven_model/tests/test_spec_model.py
--rw-r--r--  2.0 unx     8149 b- defN 22-Dec-14 20:33 odoo12_addon_spec_driven_model-12.0.4.2.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 22-Dec-14 20:33 odoo12_addon_spec_driven_model-12.0.4.2.0.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 22-Dec-14 20:33 odoo12_addon_spec_driven_model-12.0.4.2.0.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3493 b- defN 22-Dec-14 20:33 odoo12_addon_spec_driven_model-12.0.4.2.0.dist-info/RECORD
-33 files, 134621 bytes uncompressed, 50020 bytes compressed:  62.8%
+Zip file size: 56081 bytes, number of entries: 33
+-rw-r--r--  2.0 unx     7523 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/__init__.py
+-rw-r--r--  2.0 unx      504 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/__manifest__.py
+-rw-r--r--  2.0 unx     6146 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/hooks.py
+-rw-r--r--  2.0 unx     1388 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/i18n/pt_BR.po
+-rw-r--r--  2.0 unx     1106 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/i18n/spec_driven_model.pot
+-rw-r--r--  2.0 unx      127 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/models/__init__.py
+-rw-r--r--  2.0 unx     9521 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/models/spec_export.py
+-rw-r--r--  2.0 unx    12336 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/models/spec_import.py
+-rw-r--r--  2.0 unx      729 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/models/spec_mixin.py
+-rw-r--r--  2.0 unx    13697 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/models/spec_models.py
+-rw-r--r--  2.0 unx    13996 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/models/spec_view.py
+-rw-r--r--  2.0 unx        0 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      106 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx     4284 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx        0 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/readme/HISTORY.rst
+-rw-r--r--  2.0 unx        0 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/readme/INSTALL.rst
+-rw-r--r--  2.0 unx       77 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/readme/ROADMAP.rst
+-rw-r--r--  2.0 unx      240 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/readme/USAGE.rst
+-rw-r--r--  2.0 unx     9455 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/static/description/icon.png
+-rw-r--r--  2.0 unx    17424 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/static/description/index.html
+-rw-r--r--  2.0 unx     2466 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/tests/PurchaseOrderSchema.xsd
+-rw-r--r--  2.0 unx       30 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/tests/__init__.py
+-rw-r--r--  2.0 unx      914 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/tests/fake_mixin.py
+-rw-r--r--  2.0 unx     2559 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/tests/fake_odoo_purchase.py
+-rw-r--r--  2.0 unx     7419 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/tests/purchase_order_lib.py
+-rw-r--r--  2.0 unx     3805 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/tests/spec_poxsd.py
+-rw-r--r--  2.0 unx     2260 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/tests/spec_purchase.py
+-rw-r--r--  2.0 unx     5325 b- defN 23-May-12 16:55 odoo/addons/spec_driven_model/tests/test_spec_model.py
+-rw-r--r--  2.0 unx     8149 b- defN 23-May-12 16:55 odoo12_addon_spec_driven_model-12.0.5.0.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-12 16:55 odoo12_addon_spec_driven_model-12.0.5.0.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-May-12 16:55 odoo12_addon_spec_driven_model-12.0.5.0.0.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     3493 b- defN 23-May-12 16:55 odoo12_addon_spec_driven_model-12.0.5.0.0.dist-info/RECORD
+33 files, 135197 bytes uncompressed, 50175 bytes compressed:  62.9%
```

## zipnote {}

```diff
@@ -81,20 +81,20 @@
 
 Filename: odoo/addons/spec_driven_model/tests/spec_purchase.py
 Comment: 
 
 Filename: odoo/addons/spec_driven_model/tests/test_spec_model.py
 Comment: 
 
-Filename: odoo12_addon_spec_driven_model-12.0.4.2.0.dist-info/METADATA
+Filename: odoo12_addon_spec_driven_model-12.0.5.0.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo12_addon_spec_driven_model-12.0.4.2.0.dist-info/WHEEL
+Filename: odoo12_addon_spec_driven_model-12.0.5.0.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo12_addon_spec_driven_model-12.0.4.2.0.dist-info/top_level.txt
+Filename: odoo12_addon_spec_driven_model-12.0.5.0.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo12_addon_spec_driven_model-12.0.4.2.0.dist-info/RECORD
+Filename: odoo12_addon_spec_driven_model-12.0.5.0.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/spec_driven_model/__manifest__.py

```diff
@@ -1,15 +1,15 @@
 # Copyright 2019 Akretion
 # License LGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 {
     "name": "Spec Driven Model",
     "summary": """
         Tools for specifications driven mixins (from xsd for instance)""",
-    "version": "12.0.4.2.0",
+    "version": "12.0.5.0.0",
     "maintainers": ["rvalyi"],
     "license": "LGPL-3",
     "author": "Akretion,Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/l10n-brazil",
     "depends": [],
     "data": [],
     "demo": [],
```

## odoo/addons/spec_driven_model/models/spec_export.py

```diff
@@ -111,25 +111,33 @@
 
         if field.type == "many2one":
             if (not self._stacking_points.get(xsd_field)) and (
                 not self[xsd_field] and not xsd_required
             ):
                 if field.comodel_name not in self._get_spec_classes():
                     return False
+            if hasattr(field, "xsd_choice_required"):
+                # NOTE generateds-odoo would abusively have xsd_required=True
+                # already in the spec file in this case.
+                # In xsdata-odoo we introduced xsd_choice_required.
+                # Here we make the legacy code compatible with xsdata-odoo:
+                xsd_required = True
             return self._export_many2one(xsd_field, xsd_required, class_obj)
         elif self._fields[xsd_field].type == "one2many":
             return self._export_one2many(xsd_field, class_obj)
         elif self._fields[xsd_field].type == "datetime" and self[xsd_field]:
             return self._export_datetime(xsd_field)
         elif self._fields[xsd_field].type == "date" and self[xsd_field]:
             return self._export_date(xsd_field)
         elif (
             self._fields[xsd_field].type in ("float", "monetary")
             and self[xsd_field] is not False
         ):
+            if hasattr(field, "xsd_choice_required"):
+                xsd_required = True  # NOTE compat, see previous NOTE
             return self._export_float_monetary(
                 xsd_field, member_spec, class_obj, xsd_required, export_value
             )
         elif type(self[xsd_field]) == str:
             return self[xsd_field].strip()
         else:
             return self[xsd_field]
```

## odoo/addons/spec_driven_model/models/spec_models.py

```diff
@@ -281,15 +281,16 @@
         field_items = [(k, f) for k, f in env[node._name]._fields.items()]
         for i in field_items:
             fields[i[0]] = {
                 "type": i[1].type,
                 # TODO get with a function (lambda?)
                 "comodel_name": i[1].comodel_name,
                 "xsd_required": hasattr(i[1], "xsd_required") and i[1].xsd_required,
-                "choice": hasattr(i[1], "choice") and i[1].choice,
+                "xsd_choice_required": hasattr(i[1], "xsd_choice_required")
+                and i[1].xsd_choice_required,
             }
         for name, f in fields.items():
             if f["type"] not in ["many2one", "one2many"] or name in cls._stack_skip:
                 # TODO change for view or export
                 continue
             child = cls._odoo_name_to_class(f["comodel_name"], cls._spec_module)
             if child is None:  # Not a spec field
@@ -304,15 +305,15 @@
             force_stacked = any(
                 stack_path in path + "." + field_path
                 for stack_path in cls._force_stack_paths
             )
 
             # many2one
             if (child_concrete is None or child_concrete == cls._name) and (
-                f["xsd_required"] or force_stacked
+                f["xsd_required"] or f["xsd_choice_required"] or force_stacked
             ):
                 # then we will STACK the child in the current class
                 child._stack_path = path
                 child_path = "%s.%s" % (path, field_path)
                 cls._stacking_points[name] = env[node._name]._fields.get(name)
                 yield from cls._visit_stack(env, child, child_path)
             else:
```

## Comparing `odoo12_addon_spec_driven_model-12.0.4.2.0.dist-info/METADATA` & `odoo12_addon_spec_driven_model-12.0.5.0.0.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo12-addon-spec-driven-model
-Version: 12.0.4.2.0
+Version: 12.0.5.0.0
 Summary: Tools for specifications driven mixins (from xsd for instance)
 Home-page: https://github.com/OCA/l10n-brazil
 Author: Akretion,Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: LGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo12_addon_spec_driven_model-12.0.4.2.0.dist-info/RECORD` & `odoo12_addon_spec_driven_model-12.0.5.0.0.dist-info/RECORD`

 * *Files 9% similar despite different names*

```diff
@@ -1,18 +1,18 @@
 odoo/addons/spec_driven_model/README.rst,sha256=zv_c3Y3Sq75o6QG_-wFuSZ2Klc7XzFCccgXH2qQ70RI,7523
 odoo/addons/spec_driven_model/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/spec_driven_model/__manifest__.py,sha256=ZUMit89tjncdtCzdiTtqvlKByVjWWwXJfMBchkxselQ,504
+odoo/addons/spec_driven_model/__manifest__.py,sha256=ktF61KdnbbpDkBZJ-OqALgC2WVQ4DLXlccyC-tRF3xA,504
 odoo/addons/spec_driven_model/hooks.py,sha256=yvY4LfQ091lYz-uiDfxeiQX2Sjc8njRORnf0HxMvcfA,6146
 odoo/addons/spec_driven_model/i18n/pt_BR.po,sha256=Zl-Q9Qp2ZtAe6UaJmDZBFblKLz0f-UT7nfMlEaPrk1s,1388
 odoo/addons/spec_driven_model/i18n/spec_driven_model.pot,sha256=x1L13vicGXl1L9CxaznEZUpaNtilkiik4JbUcgu3kSs,1106
 odoo/addons/spec_driven_model/models/__init__.py,sha256=fRp1kEBxqhm_YHZXRlUGlMU1r8HqR-fJxlcuJyrG_tI,127
-odoo/addons/spec_driven_model/models/spec_export.py,sha256=KHLcDtwN747XMbHZVWcLO1R_nrjM3FePFtylhpUuD98,9028
+odoo/addons/spec_driven_model/models/spec_export.py,sha256=xllKYKdqqftqNZMvUAa6uX3WcIwy6F-6qCMrajJwxQ4,9521
 odoo/addons/spec_driven_model/models/spec_import.py,sha256=1dYeVFLdY3S2BASg0Wq-ihB7JP_ZfNZ1kB4HRi0wENo,12336
 odoo/addons/spec_driven_model/models/spec_mixin.py,sha256=x80dQB2RX8xR8GL5mMwsL4lF1nIOjFiOIJGB4ZGoG-Y,729
-odoo/addons/spec_driven_model/models/spec_models.py,sha256=MrQ9Nobcq6ae7i4k3fRMtjOtMPtymrWizPLyPAIVivI,13614
+odoo/addons/spec_driven_model/models/spec_models.py,sha256=su3zN3YKfRPONGapRetjBZhnTht5wpRZ4VgrYIRcDHY,13697
 odoo/addons/spec_driven_model/models/spec_view.py,sha256=AWlwSJGwBBSO7ecy2MizEkY2QKzsBo8m27CDATOgWoQ,13996
 odoo/addons/spec_driven_model/readme/CONFIGURE.rst,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 odoo/addons/spec_driven_model/readme/CONTRIBUTORS.rst,sha256=bc2Z-frHBVWvbkA6HrUow5DPRjHc7UDjrxuvqMMtjwM,106
 odoo/addons/spec_driven_model/readme/DESCRIPTION.rst,sha256=ZNjZjSPIBusPdvbt5f3LIXQTn-MT5KLzqXRkV0oO0sQ,4284
 odoo/addons/spec_driven_model/readme/HISTORY.rst,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 odoo/addons/spec_driven_model/readme/INSTALL.rst,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 odoo/addons/spec_driven_model/readme/ROADMAP.rst,sha256=2KM05dcQKfqoNkYknr6FNWT_uReHZxAygzJbuKoFx58,77
@@ -23,11 +23,11 @@
 odoo/addons/spec_driven_model/tests/__init__.py,sha256=RyDXekxpioKc56nEritit2cLjmvSranFs5MQ9QeJdtM,30
 odoo/addons/spec_driven_model/tests/fake_mixin.py,sha256=wiMO5zoinyNu_MZX6Qx-uy8U7VpQ1fkEcPBO7EWyjB0,914
 odoo/addons/spec_driven_model/tests/fake_odoo_purchase.py,sha256=AS4X8Nhf36qv-vMWcgCnruqGGz5WWlWO9RsMDn9JJf4,2559
 odoo/addons/spec_driven_model/tests/purchase_order_lib.py,sha256=EpQpq_HJl-nXyiIfzjYo771GoQC2GncrSkOvdibm5VE,7419
 odoo/addons/spec_driven_model/tests/spec_poxsd.py,sha256=FCtY0-93UL_RuT0wroOUqlcsudPDO6tYK3UJba85jXw,3805
 odoo/addons/spec_driven_model/tests/spec_purchase.py,sha256=l3TRtKrPhG-rRmynEsqhZXcGNlkGW-JJdk7GqIgHHio,2260
 odoo/addons/spec_driven_model/tests/test_spec_model.py,sha256=xCGevJ5UrnJXLUrZp7KH0LodjkOjBEB0UYly5DAJmkc,5325
-odoo12_addon_spec_driven_model-12.0.4.2.0.dist-info/METADATA,sha256=gLyOouFcqBYMe0UgwqEJqd5ADyiNGyXjIAAwQB5XijY,8149
-odoo12_addon_spec_driven_model-12.0.4.2.0.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-odoo12_addon_spec_driven_model-12.0.4.2.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo12_addon_spec_driven_model-12.0.4.2.0.dist-info/RECORD,,
+odoo12_addon_spec_driven_model-12.0.5.0.0.dist-info/METADATA,sha256=Gp58NHFFnw698cVlrbsr8fCujlh71_8g9OoGTYlybis,8149
+odoo12_addon_spec_driven_model-12.0.5.0.0.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo12_addon_spec_driven_model-12.0.5.0.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo12_addon_spec_driven_model-12.0.5.0.0.dist-info/RECORD,,
```

