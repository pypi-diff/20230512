# Comparing `tmp/smart_app_framework-2.0.1rc9-py3-none-any.whl.zip` & `tmp/smart_app_framework-2.0.2rc1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,8 +1,8 @@
-Zip file size: 300573 bytes, number of entries: 330
+Zip file size: 306562 bytes, number of entries: 334
 -rw-r--r--  2.0 unx      113 b- defN 80-Jan-01 00:00 core/__init__.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/basic_models/__init__.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/basic_models/actions/__init__.py
 -rw-r--r--  2.0 unx    10756 b- defN 80-Jan-01 00:00 core/basic_models/actions/basic_actions.py
 -rw-r--r--  2.0 unx     6265 b- defN 80-Jan-01 00:00 core/basic_models/actions/client_profile_actions.py
 -rw-r--r--  2.0 unx     1203 b- defN 80-Jan-01 00:00 core/basic_models/actions/command.py
 -rw-r--r--  2.0 unx     3083 b- defN 80-Jan-01 00:00 core/basic_models/actions/counter_actions.py
@@ -24,30 +24,30 @@
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/basic_models/operators/__init__.py
 -rw-r--r--  2.0 unx     1278 b- defN 80-Jan-01 00:00 core/basic_models/operators/comparators.py
 -rw-r--r--  2.0 unx     4302 b- defN 80-Jan-01 00:00 core/basic_models/operators/operators.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/basic_models/parametrizers/__init__.py
 -rw-r--r--  2.0 unx      186 b- defN 80-Jan-01 00:00 core/basic_models/parametrizers/filter.py
 -rw-r--r--  2.0 unx      840 b- defN 80-Jan-01 00:00 core/basic_models/parametrizers/parametrizer.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/basic_models/requirement/__init__.py
--rw-r--r--  2.0 unx    15402 b- defN 80-Jan-01 00:00 core/basic_models/requirement/basic_requirements.py
--rw-r--r--  2.0 unx     1513 b- defN 80-Jan-01 00:00 core/basic_models/requirement/counter_requirements.py
--rw-r--r--  2.0 unx     4686 b- defN 80-Jan-01 00:00 core/basic_models/requirement/device_requirements.py
--rw-r--r--  2.0 unx     1089 b- defN 80-Jan-01 00:00 core/basic_models/requirement/external_requirements.py
+-rw-r--r--  2.0 unx    17146 b- defN 80-Jan-01 00:00 core/basic_models/requirement/basic_requirements.py
+-rw-r--r--  2.0 unx     1450 b- defN 80-Jan-01 00:00 core/basic_models/requirement/counter_requirements.py
+-rw-r--r--  2.0 unx     4505 b- defN 80-Jan-01 00:00 core/basic_models/requirement/device_requirements.py
+-rw-r--r--  2.0 unx     1038 b- defN 80-Jan-01 00:00 core/basic_models/requirement/external_requirements.py
 -rw-r--r--  2.0 unx      733 b- defN 80-Jan-01 00:00 core/basic_models/requirement/project_requirements.py
--rw-r--r--  2.0 unx     6346 b- defN 80-Jan-01 00:00 core/basic_models/requirement/user_text_requirements.py
+-rw-r--r--  2.0 unx     6240 b- defN 80-Jan-01 00:00 core/basic_models/requirement/user_text_requirements.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/basic_models/scenarios/__init__.py
 -rw-r--r--  2.0 unx     4594 b- defN 80-Jan-01 00:00 core/basic_models/scenarios/base_scenario.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/basic_models/variables/__init__.py
--rw-r--r--  2.0 unx     1469 b- defN 80-Jan-01 00:00 core/basic_models/variables/variables.py
+-rw-r--r--  2.0 unx     1553 b- defN 80-Jan-01 00:00 core/basic_models/variables/variables.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/configs/__init__.py
 -rw-r--r--  2.0 unx     1931 b- defN 80-Jan-01 00:00 core/configs/base_config.py
 -rw-r--r--  2.0 unx      514 b- defN 80-Jan-01 00:00 core/configs/global_constants.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/db_adapter/__init__.py
--rw-r--r--  2.0 unx     2220 b- defN 80-Jan-01 00:00 core/db_adapter/aioredis_adapter.py
--rw-r--r--  2.0 unx     2906 b- defN 80-Jan-01 00:00 core/db_adapter/aioredis_sentinel_adapter.py
+-rw-r--r--  2.0 unx     2329 b- defN 80-Jan-01 00:00 core/db_adapter/aioredis_adapter.py
+-rw-r--r--  2.0 unx     3035 b- defN 80-Jan-01 00:00 core/db_adapter/aioredis_sentinel_adapter.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/db_adapter/ceph/__init__.py
 -rw-r--r--  2.0 unx     2413 b- defN 80-Jan-01 00:00 core/db_adapter/ceph/ceph_adapter.py
 -rw-r--r--  2.0 unx      114 b- defN 80-Jan-01 00:00 core/db_adapter/ceph/ceph_exception.py
 -rw-r--r--  2.0 unx     1265 b- defN 80-Jan-01 00:00 core/db_adapter/ceph/ceph_io.py
 -rw-r--r--  2.0 unx     4325 b- defN 80-Jan-01 00:00 core/db_adapter/db_adapter.py
 -rw-r--r--  2.0 unx      223 b- defN 80-Jan-01 00:00 core/db_adapter/error.py
 -rw-r--r--  2.0 unx     3004 b- defN 80-Jan-01 00:00 core/db_adapter/ignite_adapter.py
@@ -58,23 +58,23 @@
 -rw-r--r--  2.0 unx     1155 b- defN 80-Jan-01 00:00 core/descriptions/descriptions.py
 -rw-r--r--  2.0 unx     1662 b- defN 80-Jan-01 00:00 core/descriptions/descriptions_items.py
 -rw-r--r--  2.0 unx      626 b- defN 80-Jan-01 00:00 core/descriptions/smart_updatable_descriptions_items.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/logging/__init__.py
 -rw-r--r--  2.0 unx      568 b- defN 80-Jan-01 00:00 core/logging/logger_constants.py
 -rw-r--r--  2.0 unx      937 b- defN 80-Jan-01 00:00 core/logging/logger_formatter.py
 -rw-r--r--  2.0 unx      386 b- defN 80-Jan-01 00:00 core/logging/logger_handlers.py
--rw-r--r--  2.0 unx     5453 b- defN 80-Jan-01 00:00 core/logging/logger_utils.py
+-rw-r--r--  2.0 unx     5264 b- defN 80-Jan-01 00:00 core/logging/logger_utils.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/message/__init__.py
 -rw-r--r--  2.0 unx      765 b- defN 80-Jan-01 00:00 core/message/app_info.py
 -rw-r--r--  2.0 unx     1370 b- defN 80-Jan-01 00:00 core/message/device.py
 -rw-r--r--  2.0 unx     9260 b- defN 80-Jan-01 00:00 core/message/from_message.py
 -rw-r--r--  2.0 unx      120 b- defN 80-Jan-01 00:00 core/message/message_constants.py
 -rw-r--r--  2.0 unx      179 b- defN 80-Jan-01 00:00 core/message/msg_validator.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/model/__init__.py
--rw-r--r--  2.0 unx     2700 b- defN 80-Jan-01 00:00 core/model/base_user.py
+-rw-r--r--  2.0 unx     3159 b- defN 80-Jan-01 00:00 core/model/base_user.py
 -rw-r--r--  2.0 unx     2817 b- defN 80-Jan-01 00:00 core/model/factory.py
 -rw-r--r--  2.0 unx      209 b- defN 80-Jan-01 00:00 core/model/field.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/model/heapq/__init__.py
 -rw-r--r--  2.0 unx     1060 b- defN 80-Jan-01 00:00 core/model/heapq/heapq_storage.py
 -rw-r--r--  2.0 unx     2048 b- defN 80-Jan-01 00:00 core/model/lazy_items.py
 -rw-r--r--  2.0 unx      899 b- defN 80-Jan-01 00:00 core/model/model.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/model/queued_objects/__init__.py
@@ -92,17 +92,17 @@
 -rw-r--r--  2.0 unx      175 b- defN 80-Jan-01 00:00 core/mq/kafka/base_kafka_publisher.py
 -rw-r--r--  2.0 unx     5208 b- defN 80-Jan-01 00:00 core/mq/kafka/kafka_consumer.py
 -rw-r--r--  2.0 unx     4526 b- defN 80-Jan-01 00:00 core/mq/kafka/kafka_publisher.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/names/__init__.py
 -rw-r--r--  2.0 unx      749 b- defN 80-Jan-01 00:00 core/names/field.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/repositories/__init__.py
 -rw-r--r--  2.0 unx     1392 b- defN 80-Jan-01 00:00 core/repositories/base_repository.py
--rw-r--r--  2.0 unx     7415 b- defN 80-Jan-01 00:00 core/repositories/classifier_repository.py
+-rw-r--r--  2.0 unx     7705 b- defN 80-Jan-01 00:00 core/repositories/classifier_repository.py
 -rw-r--r--  2.0 unx      519 b- defN 80-Jan-01 00:00 core/repositories/csv_repository.py
--rw-r--r--  2.0 unx     1259 b- defN 80-Jan-01 00:00 core/repositories/dill_repository.py
+-rw-r--r--  2.0 unx     1580 b- defN 80-Jan-01 00:00 core/repositories/dill_repository.py
 -rw-r--r--  2.0 unx     2707 b- defN 80-Jan-01 00:00 core/repositories/file_repository.py
 -rw-r--r--  2.0 unx     2541 b- defN 80-Jan-01 00:00 core/repositories/folder_repository.py
 -rw-r--r--  2.0 unx      588 b- defN 80-Jan-01 00:00 core/repositories/items_repository.py
 -rw-r--r--  2.0 unx     1674 b- defN 80-Jan-01 00:00 core/repositories/shard_repository.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 core/request/__init__.py
 -rw-r--r--  2.0 unx      921 b- defN 80-Jan-01 00:00 core/request/base_request.py
 -rw-r--r--  2.0 unx      268 b- defN 80-Jan-01 00:00 core/request/external_requests.py
@@ -131,26 +131,27 @@
 -rw-r--r--  2.0 unx     1568 b- defN 80-Jan-01 00:00 core/utils/memstats.py
 -rw-r--r--  2.0 unx    32149 b- defN 80-Jan-01 00:00 core/utils/period_determiner.py
 -rw-r--r--  2.0 unx      529 b- defN 80-Jan-01 00:00 core/utils/pickle_copy.py
 -rw-r--r--  2.0 unx     1640 b- defN 80-Jan-01 00:00 core/utils/rerunable.py
 -rw-r--r--  2.0 unx      241 b- defN 80-Jan-01 00:00 core/utils/singleton.py
 -rw-r--r--  2.0 unx      293 b- defN 80-Jan-01 00:00 core/utils/stats_timer.py
 -rw-r--r--  2.0 unx     3673 b- defN 80-Jan-01 00:00 core/utils/utils.py
+-rw-r--r--  2.0 unx      629 b- defN 80-Jan-01 00:00 core/utils/version.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 scenarios/__init__.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 scenarios/actions/__init__.py
 -rw-r--r--  2.0 unx    22740 b- defN 80-Jan-01 00:00 scenarios/actions/action.py
 -rw-r--r--  2.0 unx      168 b- defN 80-Jan-01 00:00 scenarios/actions/action_params_names.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 scenarios/behaviors/__init__.py
 -rw-r--r--  2.0 unx     1312 b- defN 80-Jan-01 00:00 scenarios/behaviors/behavior_description.py
 -rw-r--r--  2.0 unx      359 b- defN 80-Jan-01 00:00 scenarios/behaviors/behavior_descriptions.py
 -rw-r--r--  2.0 unx    15834 b- defN 80-Jan-01 00:00 scenarios/behaviors/behaviors.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 scenarios/logging/__init__.py
 -rw-r--r--  2.0 unx     4248 b- defN 80-Jan-01 00:00 scenarios/logging/logger_constants.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 scenarios/requirements/__init__.py
--rw-r--r--  2.0 unx     2900 b- defN 80-Jan-01 00:00 scenarios/requirements/requirements.py
+-rw-r--r--  2.0 unx     2799 b- defN 80-Jan-01 00:00 scenarios/requirements/requirements.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 scenarios/scenario_descriptions/__init__.py
 -rw-r--r--  2.0 unx    10695 b- defN 80-Jan-01 00:00 scenarios/scenario_descriptions/form_filling_scenario.py
 -rw-r--r--  2.0 unx      370 b- defN 80-Jan-01 00:00 scenarios/scenario_descriptions/scenarios_description.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 scenarios/scenario_descriptions/tree_scenario/__init__.py
 -rw-r--r--  2.0 unx     8800 b- defN 80-Jan-01 00:00 scenarios/scenario_descriptions/tree_scenario/tree_scenario.py
 -rw-r--r--  2.0 unx      758 b- defN 80-Jan-01 00:00 scenarios/scenario_descriptions/tree_scenario/tree_scenario_node.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 scenarios/scenario_models/__init__.py
@@ -205,15 +206,15 @@
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/action/__init__.py
 -rw-r--r--  2.0 unx     6670 b- defN 80-Jan-01 00:00 smart_kit/action/http.py
 -rw-r--r--  2.0 unx     1106 b- defN 80-Jan-01 00:00 smart_kit/action/http_with_cookie.py
 -rw-r--r--  2.0 unx     2418 b- defN 80-Jan-01 00:00 smart_kit/action/smart_geo_action.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/compatibility/__init__.py
 -rw-r--r--  2.0 unx     3119 b- defN 80-Jan-01 00:00 smart_kit/compatibility/commands.py
 -rw-r--r--  2.0 unx     4159 b- defN 80-Jan-01 00:00 smart_kit/configs/__init__.py
--rw-r--r--  2.0 unx      900 b- defN 80-Jan-01 00:00 smart_kit/configs/logger_config.py
+-rw-r--r--  2.0 unx      890 b- defN 80-Jan-01 00:00 smart_kit/configs/logger_config.py
 -rw-r--r--  2.0 unx     3125 b- defN 80-Jan-01 00:00 smart_kit/configs/settings.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/handlers/__init__.py
 -rw-r--r--  2.0 unx     1187 b- defN 80-Jan-01 00:00 smart_kit/handlers/handle_close_app.py
 -rw-r--r--  2.0 unx     3008 b- defN 80-Jan-01 00:00 smart_kit/handlers/handle_respond.py
 -rw-r--r--  2.0 unx     1674 b- defN 80-Jan-01 00:00 smart_kit/handlers/handle_server_action.py
 -rw-r--r--  2.0 unx      997 b- defN 80-Jan-01 00:00 smart_kit/handlers/handle_take_runtime_permissions.py
 -rw-r--r--  2.0 unx      764 b- defN 80-Jan-01 00:00 smart_kit/handlers/handler_base.py
@@ -223,32 +224,31 @@
 -rw-r--r--  2.0 unx     1631 b- defN 80-Jan-01 00:00 smart_kit/handlers/handler_timeout.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/management/__init__.py
 -rw-r--r--  2.0 unx     3642 b- defN 80-Jan-01 00:00 smart_kit/management/app_manager.py
 -rw-r--r--  2.0 unx     1392 b- defN 80-Jan-01 00:00 smart_kit/management/base.py
 -rw-r--r--  2.0 unx     2550 b- defN 80-Jan-01 00:00 smart_kit/management/cache.py
 -rw-r--r--  2.0 unx     3050 b- defN 80-Jan-01 00:00 smart_kit/management/get_bundles_from_pps.py
 -rw-r--r--  2.0 unx      721 b- defN 80-Jan-01 00:00 smart_kit/management/plugins.py
--rw-r--r--  2.0 unx     2082 b- defN 80-Jan-01 00:00 smart_kit/management/smart_kit_manager.py
+-rw-r--r--  2.0 unx     2072 b- defN 80-Jan-01 00:00 smart_kit/management/smart_kit_manager.py
 -rw-r--r--  2.0 unx     7748 b- defN 80-Jan-01 00:00 smart_kit/management/tests.py
--rw-r--r--  2.0 unx      629 b- defN 80-Jan-01 00:00 smart_kit/management/version.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/message/__init__.py
 -rw-r--r--  2.0 unx      765 b- defN 80-Jan-01 00:00 smart_kit/message/app_info.py
 -rw-r--r--  2.0 unx      398 b- defN 80-Jan-01 00:00 smart_kit/message/as_is_to_message.py
 -rw-r--r--  2.0 unx      259 b- defN 80-Jan-01 00:00 smart_kit/message/get_to_message.py
 -rw-r--r--  2.0 unx     3105 b- defN 80-Jan-01 00:00 smart_kit/message/smartapp_to_message.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/models/__init__.py
 -rw-r--r--  2.0 unx     3363 b- defN 80-Jan-01 00:00 smart_kit/models/dialogue_manager.py
--rw-r--r--  2.0 unx     5118 b- defN 80-Jan-01 00:00 smart_kit/models/smartapp_model.py
+-rw-r--r--  2.0 unx     5280 b- defN 80-Jan-01 00:00 smart_kit/models/smartapp_model.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/names/__init__.py
 -rw-r--r--  2.0 unx      144 b- defN 80-Jan-01 00:00 smart_kit/names/action_params_names.py
 -rw-r--r--  2.0 unx      124 b- defN 80-Jan-01 00:00 smart_kit/names/field.py
 -rw-r--r--  2.0 unx      360 b- defN 80-Jan-01 00:00 smart_kit/names/message_names.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/request/__init__.py
 -rw-r--r--  2.0 unx     1394 b- defN 80-Jan-01 00:00 smart_kit/request/kafka_request.py
--rw-r--r--  2.0 unx    24875 b- defN 80-Jan-01 00:00 smart_kit/resources/__init__.py
+-rw-r--r--  2.0 unx    24496 b- defN 80-Jan-01 00:00 smart_kit/resources/__init__.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/start_points/__init__.py
 -rw-r--r--  2.0 unx     1198 b- defN 80-Jan-01 00:00 smart_kit/start_points/app.py
 -rw-r--r--  2.0 unx     6735 b- defN 80-Jan-01 00:00 smart_kit/start_points/base_main_loop.py
 -rw-r--r--  2.0 unx       56 b- defN 80-Jan-01 00:00 smart_kit/start_points/constants.py
 -rw-r--r--  2.0 unx     7976 b- defN 80-Jan-01 00:00 smart_kit/start_points/main_loop_async_http.py
 -rw-r--r--  2.0 unx     7147 b- defN 80-Jan-01 00:00 smart_kit/start_points/main_loop_http.py
 -rw-r--r--  2.0 unx    36715 b- defN 80-Jan-01 00:00 smart_kit/start_points/main_loop_kafka.py
@@ -258,24 +258,24 @@
 -rw-r--r--  2.0 unx     1005 b- defN 80-Jan-01 00:00 smart_kit/system_answers/nothing_found_action.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/template/app/__init__.py-tpl
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/template/app/adapters/__init__.py-tpl
 -rw-r--r--  2.0 unx      969 b- defN 80-Jan-01 00:00 smart_kit/template/app/adapters/db_adapters.py-tpl
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/template/app/basic_entities/__init__.py-tpl
 -rw-r--r--  2.0 unx     1301 b- defN 80-Jan-01 00:00 smart_kit/template/app/basic_entities/actions.py-tpl
 -rw-r--r--  2.0 unx     1166 b- defN 80-Jan-01 00:00 smart_kit/template/app/basic_entities/fillers.py-tpl
--rw-r--r--  2.0 unx     1108 b- defN 80-Jan-01 00:00 smart_kit/template/app/basic_entities/requirements.py-tpl
+-rw-r--r--  2.0 unx     1295 b- defN 80-Jan-01 00:00 smart_kit/template/app/basic_entities/requirements.py-tpl
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/template/app/handlers/__init__.py-tpl
 -rw-r--r--  2.0 unx      783 b- defN 80-Jan-01 00:00 smart_kit/template/app/handlers/handlers.py-tpl
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/template/app/local_testing/__init__.py-tpl
 -rw-r--r--  2.0 unx     1218 b- defN 80-Jan-01 00:00 smart_kit/template/app/local_testing/custom_local_testing.py-tpl
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/template/app/models/__init__.py-tpl
 -rw-r--r--  2.0 unx      422 b- defN 80-Jan-01 00:00 smart_kit/template/app/models/dialogue_manager.py-tpl
 -rw-r--r--  2.0 unx      760 b- defN 80-Jan-01 00:00 smart_kit/template/app/models/model.py-tpl
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/template/app/resources/__init__.py-tpl
--rw-r--r--  2.0 unx     1946 b- defN 80-Jan-01 00:00 smart_kit/template/app/resources/custom_app_resources.py-tpl
+-rw-r--r--  2.0 unx     2395 b- defN 80-Jan-01 00:00 smart_kit/template/app/resources/custom_app_resources.py-tpl
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/template/app/user/__init__.py-tpl
 -rw-r--r--  2.0 unx      722 b- defN 80-Jan-01 00:00 smart_kit/template/app/user/parametrizer.py-tpl
 -rw-r--r--  2.0 unx     1055 b- defN 80-Jan-01 00:00 smart_kit/template/app/user/user.py-tpl
 -rw-r--r--  2.0 unx      656 b- defN 80-Jan-01 00:00 smart_kit/template/app_config.py-tpl
 -rw-r--r--  2.0 unx      264 b- defN 80-Jan-01 00:00 smart_kit/template/manage.py-tpl
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/template/monitoring/__init__.py-tpl
 -rw-r--r--  2.0 unx      519 b- defN 80-Jan-01 00:00 smart_kit/template/monitoring/monitoring_wsgi_app.py-tpl
@@ -284,15 +284,19 @@
 -rw-r--r--  2.0 unx    61823 b- defN 80-Jan-01 00:00 smart_kit/template/static/.text_normalizer_resources/text2num_dict.json
 -rw-r--r--  2.0 unx     1452 b- defN 80-Jan-01 00:00 smart_kit/template/static/configs/logging_config.yml
 -rw-r--r--  2.0 unx      432 b- defN 80-Jan-01 00:00 smart_kit/template/static/configs/template_config.yml
 -rw-r--r--  2.0 unx      609 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/actions/actions.json
 -rw-r--r--  2.0 unx     1632 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/behaviors/behaviors.json
 -rw-r--r--  2.0 unx     1452 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/bundles/bundles.json
 -rw-r--r--  2.0 unx      294 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/classifiers/classifiers.json
--rw-r--r--  2.0 unx     1616 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/classifiers_data/ReadBookOrNotClassifier.pkl
+-rw-r--r--  2.0 unx     1407 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/classifiers_data/ReadBookOrNotClassifier_py310.pkl
+-rw-r--r--  2.0 unx     1687 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/classifiers_data/ReadBookOrNotClassifier_py311.pkl
+-rw-r--r--  2.0 unx     1413 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/classifiers_data/ReadBookOrNotClassifier_py38.pkl
+-rw-r--r--  2.0 unx     1407 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/classifiers_data/ReadBookOrNotClassifier_py39.pkl
+-rw-r--r--  2.0 unx     1300 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/classifiers_data/src.py
 -rw-r--r--  2.0 unx      704 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/field_fillers/field_fillers.json
 -rw-r--r--  2.0 unx     8947 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/forms/hello_form.json
 -rw-r--r--  2.0 unx       78 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/history.json
 -rw-r--r--  2.0 unx        4 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/last_scenarios_descriptions.json
 -rw-r--r--  2.0 unx     1090 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/predefined_fields_storage.json
 -rw-r--r--  2.0 unx       40 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/preprocessing_messages_for_scenarios_settings.json
 -rw-r--r--  2.0 unx       68 b- defN 80-Jan-01 00:00 smart_kit/template/static/references/responses.json
@@ -318,15 +322,15 @@
 -rw-r--r--  2.0 unx    13525 b- defN 80-Jan-01 00:00 smart_kit/text_preprocessing/text2num.py
 -rw-r--r--  2.0 unx    24231 b- defN 80-Jan-01 00:00 smart_kit/text_preprocessing/utils.py
 -rw-r--r--  2.0 unx     8290 b- defN 80-Jan-01 00:00 smart_kit/utils/SmartAppToMessage_pb2.py
 -rw-r--r--  2.0 unx      486 b- defN 80-Jan-01 00:00 smart_kit/utils/__init__.py
 -rw-r--r--  2.0 unx     1325 b- defN 80-Jan-01 00:00 smart_kit/utils/cache.py
 -rw-r--r--  2.0 unx     2899 b- defN 80-Jan-01 00:00 smart_kit/utils/diff.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/utils/logger_writer/__init__.py
--rw-r--r--  2.0 unx     1504 b- defN 80-Jan-01 00:00 smart_kit/utils/logger_writer/logger_formatter.py
+-rw-r--r--  2.0 unx     3385 b- defN 80-Jan-01 00:00 smart_kit/utils/logger_writer/logger_formatter.py
 -rw-r--r--  2.0 unx        0 b- defN 80-Jan-01 00:00 smart_kit/utils/monitoring.py
 -rw-r--r--  2.0 unx      332 b- defN 80-Jan-01 00:00 smart_kit/utils/object_location.py
 -rw-r--r--  2.0 unx      320 b- defN 80-Jan-01 00:00 smart_kit/utils/picklable_mock.py
--rw-r--r--  2.0 unx    10421 b- defN 80-Jan-01 00:00 smart_app_framework-2.0.1rc9.dist-info/METADATA
--rw-r--r--  2.0 unx       88 b- defN 80-Jan-01 00:00 smart_app_framework-2.0.1rc9.dist-info/WHEEL
-?rw-r--r--  2.0 unx    31832 b- defN 16-Jan-01 00:00 smart_app_framework-2.0.1rc9.dist-info/RECORD
-330 files, 974648 bytes uncompressed, 248725 bytes compressed:  74.5%
+-rw-r--r--  2.0 unx    10830 b- defN 80-Jan-01 00:00 smart_app_framework-2.0.2rc1.dist-info/METADATA
+-rw-r--r--  2.0 unx       88 b- defN 80-Jan-01 00:00 smart_app_framework-2.0.2rc1.dist-info/WHEEL
+?rw-r--r--  2.0 unx    32375 b- defN 16-Jan-01 00:00 smart_app_framework-2.0.2rc1.dist-info/RECORD
+334 files, 985923 bytes uncompressed, 253780 bytes compressed:  74.3%
```

## zipnote {}

```diff
@@ -402,14 +402,17 @@
 
 Filename: core/utils/stats_timer.py
 Comment: 
 
 Filename: core/utils/utils.py
 Comment: 
 
+Filename: core/utils/version.py
+Comment: 
+
 Filename: scenarios/__init__.py
 Comment: 
 
 Filename: scenarios/actions/__init__.py
 Comment: 
 
 Filename: scenarios/actions/action.py
@@ -684,17 +687,14 @@
 
 Filename: smart_kit/management/smart_kit_manager.py
 Comment: 
 
 Filename: smart_kit/management/tests.py
 Comment: 
 
-Filename: smart_kit/management/version.py
-Comment: 
-
 Filename: smart_kit/message/__init__.py
 Comment: 
 
 Filename: smart_kit/message/app_info.py
 Comment: 
 
 Filename: smart_kit/message/as_is_to_message.py
@@ -861,15 +861,27 @@
 
 Filename: smart_kit/template/static/references/bundles/bundles.json
 Comment: 
 
 Filename: smart_kit/template/static/references/classifiers/classifiers.json
 Comment: 
 
-Filename: smart_kit/template/static/references/classifiers_data/ReadBookOrNotClassifier.pkl
+Filename: smart_kit/template/static/references/classifiers_data/ReadBookOrNotClassifier_py310.pkl
+Comment: 
+
+Filename: smart_kit/template/static/references/classifiers_data/ReadBookOrNotClassifier_py311.pkl
+Comment: 
+
+Filename: smart_kit/template/static/references/classifiers_data/ReadBookOrNotClassifier_py38.pkl
+Comment: 
+
+Filename: smart_kit/template/static/references/classifiers_data/ReadBookOrNotClassifier_py39.pkl
+Comment: 
+
+Filename: smart_kit/template/static/references/classifiers_data/src.py
 Comment: 
 
 Filename: smart_kit/template/static/references/field_fillers/field_fillers.json
 Comment: 
 
 Filename: smart_kit/template/static/references/forms/hello_form.json
 Comment: 
@@ -975,17 +987,17 @@
 
 Filename: smart_kit/utils/object_location.py
 Comment: 
 
 Filename: smart_kit/utils/picklable_mock.py
 Comment: 
 
-Filename: smart_app_framework-2.0.1rc9.dist-info/METADATA
+Filename: smart_app_framework-2.0.2rc1.dist-info/METADATA
 Comment: 
 
-Filename: smart_app_framework-2.0.1rc9.dist-info/WHEEL
+Filename: smart_app_framework-2.0.2rc1.dist-info/WHEEL
 Comment: 
 
-Filename: smart_app_framework-2.0.1rc9.dist-info/RECORD
+Filename: smart_app_framework-2.0.2rc1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## core/basic_models/requirement/basic_requirements.py

```diff
@@ -23,23 +23,41 @@
 
 requirements = Registered()
 
 requirement_factory = build_factory(requirements)
 
 
 class Requirement:
+    """Класс для проверки заданного условия
+
+    Параметры:
+        items["cache_result"]   Использовать ли закешированный результат в рамках обработки сообщения и совпадения items
+
+    Атрибуты:
+        cache_result    то же, что и items["cache_result"]
+
+    Примечания:
+        Кэширование допустимо только в случае, если функция выдаёт один и тот же результат в рамках времени кэширования,
+        в нашем случае - в рамках обработки одного сообщения. Таким образом, если на результат requirement влияют
+        переменные, которые могут поменяться в ходе обработке сообщения, например, user.counters, то кэширование не
+        подойдёт для рассматриваемого requirement.
+    """
+    cache_result = False
+
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
         items = items or {}
         self._descr = items.get("_description")
         self.items = items
         self.version = items.get("version", -1)
         self.id = id
         self.is_logging_debug_mode = logging.getLogger(globals().get("__name__")).isEnabledFor(
             logging.getLevelName("DEBUG")
         )
+        if "cache_result" in items:
+            self.cache_result = items["cache_result"]
 
     def _log_params(self):
         return {
             log_const.KEY_NAME: log_const.REQUIREMENT_CHECK_VALUE,
             "requirement": self.__class__.__name__
         }
 
@@ -49,18 +67,33 @@
 
     def _on_check_error_result(self, text_preprocessing_result: BaseTextPreprocessingResult, user: BaseUser) -> bool:
         # return True or False if it's acceptable in custom requirement
         raise
 
     def check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: BaseUser,
               params: Dict[str, Any] = None) -> bool:
-        try:
-            result = self._check(text_preprocessing_result, user, params)
-        except Exception:
-            return self.on_check_error(text_preprocessing_result, user)
+        if self.cache_result:
+            cached_results = user.message_vars.get("cached_req_results")
+            if not cached_results:
+                cached_results = dict()
+                user.message_vars.set("cached_req_results", cached_results)
+
+            if self.hash_for_cache in cached_results:
+                result = cached_results[self.hash_for_cache]
+            else:
+                try:
+                    result = self._check(text_preprocessing_result, user, params)
+                    cached_results[self.hash_for_cache] = result
+                except Exception:
+                    return self.on_check_error(text_preprocessing_result, user)
+        else:
+            try:
+                result = self._check(text_preprocessing_result, user, params)
+            except Exception:
+                return self.on_check_error(text_preprocessing_result, user)
         if self.is_logging_debug_mode:
             log_params = self._log_params()
             log_params[log_const.KEY_NAME] = log_const.REQUIREMENT_TRACE_VALUE
             log_params["result"] = result
             log_params["raw_items"] = str(self.items)
             log_params["params"] = params
             if self._descr:
@@ -74,20 +107,24 @@
         log_params["masked_message"] = str(user.message.masked_value)
         log_params["result"] = result
         log("exc_handler: Requirement FAILED to check. Return %(result)s. MESSAGE: %(masked_message)s.",
             user, log_params,
             level="ERROR", exc_info=True)
         return result
 
+    @cached_property
+    def hash_for_cache(self):
+        return hashlib.md5(f"{self.__class__.__name__}{self.items}".encode()).hexdigest()
+
 
 class CompositeRequirement(Requirement):
     requirements: List[Requirement]
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(CompositeRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self._requirements = items["requirements"]
         self.requirements = self.build_requirements()
 
     @list_factory(Requirement)
     def build_requirements(self):
         return self._requirements
 
@@ -112,15 +149,15 @@
         )
 
 
 class NotRequirement(Requirement):
     requirement: Requirement
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(NotRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self._requirement = items["requirement"]
         self.requirement = self.build_requirement()
 
     @factory(Requirement)
     def build_requirement(self):
         return self._requirement
 
@@ -130,51 +167,51 @@
                                           params=params)
 
 
 class ComparisonRequirement(Requirement):
     operator: Operator
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(ComparisonRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self._operator = items["operator"]
         self.operator = self.build_operator()
 
     @factory(Operator)
     def build_operator(self):
         return self._operator
 
 
 class RandomRequirement(Requirement):
     percent: int
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(RandomRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self.percent = items["percent"]
 
     def _check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: BaseUser,
                params: Dict[str, Any] = None) -> bool:
         result = random() * 100
         return result < self.percent
 
 
 class TopicRequirement(Requirement):
     topics: List[str]
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(TopicRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self.topics = items["topics"]
 
     def _check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: BaseUser,
                params: Dict[str, Any] = None) -> bool:
         return user.message.topic_key in self.topics
 
 
 class TemplateRequirement(Requirement):
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(TemplateRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self._template = UnifiedTemplate(items["template"])
 
     def _check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: BaseUser,
                params: Dict[str, Any] = None) -> bool:
         params = params or {}
         collected = user.parametrizer.collect(text_preprocessing_result)
         params.update(collected)
@@ -187,15 +224,15 @@
                         f'{render_result} for template {self.items["template"]}')
 
 
 class RollingRequirement(Requirement):
     percent: int
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(RollingRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self.percent = items["percent"]
 
     def _check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: BaseUser,
                params: Dict[str, Any] = None) -> bool:
         id = user.id
         s = id.encode('utf-8')
         hash = int(hashlib.sha256(s).hexdigest(), 16)
@@ -273,15 +310,15 @@
 class ClassifierRequirement(Requirement):
     """Условие, которое зависит от результата классификации.
     Возвращает True, если результат классификации запроса относится к одной из указанных категорий, прошедших порог,
     но не равной классу other.
     """
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(ClassifierRequirement, self).__init__(items=items, id=id)
+        super().__init__(items=items, id=id)
         self._classifier = items["classifier"]
 
     @cached_property
     def classifier(self) -> Classifier:
         return ExternalClassifier(self._classifier)
 
     def _check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: BaseUser,
@@ -302,15 +339,15 @@
 
 class FormFieldValueRequirement(Requirement):
     """Условие возвращает True, если в форме form_name в поле field_name значение совпадает с переданным value,
     иначе - False. Данное условие предназначено только для плоских форм.
     """
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(FormFieldValueRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self.form_name = items["form_name"]
         self.field_name = items["field_name"]
         self.value = items["value"]
 
     def _check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: User,
                params: Dict[str, Any] = None) -> bool:
         return user.forms[self.form_name].fields[self.field_name].value == self.value
@@ -319,15 +356,15 @@
 class EnvironmentRequirement(Requirement):
     """Условие возвращает True, если сценарий исполняется на стенде из числа values, иначе - False.
     Так, например, можно ограничить сценарий для исполнения только на тестовых средах.
     Возможные значения в values: ift, uat, pt, prod (это ИФТ, ПСИ, НТ, ПРОМ).
     """
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(EnvironmentRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self.values = items.get("values", [])
         # Из конфига получаем среду исполнения
         from smart_kit.configs import get_app_config
         app_config = get_app_config()
         self.environment = app_config.ENVIRONMENT
         # Если среда исполнения задана, то проверям, что среда в списке возможных значений для сценария, иначе - False
         self.check_result = self.environment in self.values if self.environment else False
@@ -339,27 +376,27 @@
 
 class CharacterIdRequirement(Requirement):
     """Условие возвращает True, если идентификатор выбранного персонажа входит
     в список значений, иначе - False.
     """
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(CharacterIdRequirement, self).__init__(items=items, id=id)
+        super().__init__(items=items, id=id)
         self.values = items["values"]
 
     def _check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: User,
                params: Dict[str, Any] = None) -> bool:
         return user.message.payload["character"]["id"] in self.values
 
 
 class FeatureToggleRequirement(Requirement):
     """Условие возвращает True, если проверка указанного тогла по названию возвращает True, иначе - False.
     Тоглы задаются в template_config.yml, с помощью значений True и False их можно включить или выключить.
     """
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(FeatureToggleRequirement, self).__init__(items=items, id=id)
+        super().__init__(items=items, id=id)
         self.toggle_name = items["toggle_name"]
 
     def _check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: User,
                params: Dict[str, Any] = None) -> bool:
         return user.settings["template_settings"].get(self.toggle_name, False)
```

## core/basic_models/requirement/counter_requirements.py

```diff
@@ -10,30 +10,30 @@
 
 
 class CounterValueRequirement(ComparisonRequirement):
     operator: Operator
     key: str
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(CounterValueRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         items = items or {}
         self.key = items["key"]
 
     def check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: BaseUser,
               params: Dict[str, Any] = None) -> bool:
         counter = user.counters[self.key]
         return self.operator.compare(counter)
 
 
 class CounterUpdateTimeRequirement(ComparisonRequirement):
     operator: Operator
     key: str
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(CounterUpdateTimeRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         items = items or {}
         self.key = items["key"]
         self.fallback_value = items.get("fallback_value") or False
 
     def check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: BaseUser,
               params: Dict[str, Any] = None) -> bool:
         _time = user.counters[self.key].update_time
```

## core/basic_models/requirement/device_requirements.py

```diff
@@ -9,15 +9,15 @@
 from core.basic_models.requirement.basic_requirements import Requirement, ComparisonRequirement
 from core.basic_models.operators.operators import Operator
 from core.text_preprocessing.base import BaseTextPreprocessingResult
 
 
 class BaseContainsRequirement(Requirement):
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(BaseContainsRequirement, self).__init__(items)
+        super().__init__(items)
 
     @property
     def descr_to_check_in(self):
         return NotImplementedError
 
     def get_field(self, text_preprocessing_result: BaseTextPreprocessingResult, user: BaseUser):
         return NotImplementedError
@@ -28,29 +28,28 @@
 
 
 class ChannelRequirement(BaseContainsRequirement):
     channels = List[str]
 
     # should_process_message compatible
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(ChannelRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self.channels = items["channels"]
 
     @property
     def descr_to_check_in(self):
         return set(self.channels)
 
     def get_field(self, text_preprocessing_result: BaseTextPreprocessingResult, user: BaseUser) -> str:
         return user.message.channel
 
 
 class PlatformTypeRequirement(Requirement):
-
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(PlatformTypeRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         items = items or {}
         self.platfrom_type = items["platfrom_type"]
 
     def check(self, text_preprocessing_result: TextPreprocessingResult, user: BaseUser,
               params: Dict[str, Any] = None) -> bool:
         return user.message.device.platform_type == self.platfrom_type
 
@@ -69,48 +68,44 @@
     def check(self, text_preprocessing_result: TextPreprocessingResult, user: BaseUser,
               params: Dict[str, Any] = None) -> bool:
         platform_version = convert_version_to_list_of_int(user.message.device.platform_version)
         return self.operator.compare(platform_version) if platform_version is not None else False
 
 
 class SurfaceRequirement(Requirement):
-
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(SurfaceRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         items = items or {}
         self.surface = items["surface"]
 
     def check(self, text_preprocessing_result: TextPreprocessingResult, user: BaseUser,
               params: Dict[str, Any] = None) -> bool:
         return user.message.device.surface == self.surface
 
 
 class SurfaceVersionRequirement(BasicVersionRequirement):
-
     def check(self, text_preprocessing_result: TextPreprocessingResult, user: BaseUser,
               params: Dict[str, Any] = None) -> bool:
         surface_version = convert_version_to_list_of_int(user.message.device.surface_version)
         return self.operator.compare(surface_version) if surface_version is not None else False
 
 
 class AppTypeRequirement(Requirement):
-
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(AppTypeRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         items = items or {}
         self.app_type = items["app_type"]
 
     def check(self, text_preprocessing_result: TextPreprocessingResult, user: BaseUser,
               params: Dict[str, Any] = None) -> bool:
         return self.app_type in user.message.device.features.get("appTypes", [])
 
 
 class CapabilitiesPropertyAvailableRequirement(Requirement):
-
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(CapabilitiesPropertyAvailableRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         items = items or {}
         self.property_type = items["property_type"]
 
     def check(self, text_preprocessing_result: TextPreprocessingResult, user: BaseUser,
               params: Dict[str, Any] = None) -> bool:
         return user.message.device.capabilities.get(self.property_type, {}).get("available", False)
```

## core/basic_models/requirement/external_requirements.py

```diff
@@ -6,21 +6,21 @@
 from core.text_preprocessing.base import BaseTextPreprocessingResult
 
 from core.descriptions.smart_updatable_descriptions_items import SmartUpdatableDescriptionsItems
 
 
 class ExternalRequirements(SmartUpdatableDescriptionsItems):
     def __init__(self, items):
-        super(ExternalRequirements, self).__init__(requirement_factory, items, ordered=True)
+        super().__init__(requirement_factory, items, ordered=True)
 
 
 class ExternalRequirement(Requirement):
     requirement: str
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(ExternalRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self.requirement = items["requirement"]
 
     def check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: BaseUser,
               params: Dict[str, Any] = None) -> bool:
         requirement = user.descriptions["external_requirements"][self.requirement]
         return requirement.check(text_preprocessing_result, user, params)
```

## core/basic_models/requirement/user_text_requirements.py

```diff
@@ -11,28 +11,28 @@
 
 class AnySubstringInLoweredTextRequirement(Requirement):
     """Условие возвращает True, если хотя бы одна подстрока из списка substrings встречается
     в оригинальном тексте в нижнем регистре, иначе - False.
     """
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(AnySubstringInLoweredTextRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self.substrings = self.items["substrings"]
 
     def check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: BaseUser,
               params: Dict[str, Any] = None) -> bool:
         lowered_text = text_preprocessing_result.lower() if isinstance(text_preprocessing_result, str) \
             else text_preprocessing_result.raw["original_text"].lower()
         return any(s.lower() in lowered_text for s in self.substrings)
 
 
 class NormalizedInputWordsRequirement(Requirement):
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(NormalizedInputWordsRequirement, self).__init__(items, id)
+        super().__init__(items, id)
 
         # Получаем используемый нормализатор из конфига аппа
         from smart_kit.configs import get_app_config
         app_config = get_app_config()
         self.normalizer = app_config.NORMALIZER
 
         # Нормализуем входные слова из условия
@@ -106,15 +106,15 @@
         return result
 
 
 class NumInRangeRequirement(Requirement):
     """Условие возвращает True, если число находится в заданном диапазоне, иначе - False."""
 
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(NumInRangeRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self.min_num = float(items["min_num"])
         self.max_num = float(items["max_num"])
 
     def check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: User,
               params: Dict[str, Any] = None) -> bool:
         num = float(text_preprocessing_result.num_token_values)
         return self.min_num <= num <= self.max_num if num else False
```

## core/basic_models/variables/variables.py

```diff
@@ -1,41 +1,39 @@
 import time
-from typing import Dict, Any, Optional
+from typing import Dict, Any, Optional, Tuple
 
 
 class Variables:
     DEFAULT_TTL = 86400
 
     def __init__(self, items, user, savable: bool = True):
         self._savable = savable
-        self._storage: Dict[str, Any] = items or {}
+        self._storage: Dict[str, Tuple[Any, float]] = items or {}
 
     @property
     def raw(self) -> Optional[Dict[str, Any]]:
         if self._savable:
             return self._storage
         return None
 
     @property
     def values(self) -> Dict[str, Any]:
         self.expire()
-        result = {}
-        for key in self._storage:
-            value, _ = self._storage[key]
-            result[key] = value
-        return result
+        return {key: value[0] for key, value in self._storage.items()}
 
     def set(self, key, value, ttl=None) -> None:
         ttl = ttl if ttl is not None else self.DEFAULT_TTL
         self._storage[key] = value, time.time() + ttl
 
     def update(self, key, value, ttl=None) -> None:
-        _, old_ttl = self._storage[key]
-        ttl = ttl or old_ttl
-        self.set(key, value, ttl)
+        _, expire_time = self._storage.get(key, (None, None))
+        if not expire_time:
+            ttl = ttl if ttl is not None else self.DEFAULT_TTL
+            expire_time = ttl + time.time()
+        self._storage[key] = value, expire_time
 
     def get(self, key, default=None):
         value, expire_time = self._storage.get(key, (default, time.time() + self.DEFAULT_TTL))
         if expire_time <= time.time():
             value = default
         return value
```

## core/db_adapter/aioredis_adapter.py

```diff
@@ -1,23 +1,23 @@
 import copy
-
-import aioredis
+import importlib
 import typing
 
-from core.db_adapter.db_adapter import AsyncDBAdapter
 from core.db_adapter import error
-from core.monitoring.monitoring import monitoring
-
+from core.db_adapter.db_adapter import AsyncDBAdapter
 from core.logging.logger_utils import log
+from core.monitoring.monitoring import monitoring
 
 
 class AIORedisAdapter(AsyncDBAdapter):
     def __init__(self, config=None):
         super().__init__(config)
-        self._redis: typing.Optional[aioredis.Redis] = None
+        self.aioredis = importlib.import_module("redis", "asyncio")
+        redis_type = self.aioredis.Redis
+        self._redis: typing.Optional[redis_type] = None
 
         try:
             del self.config["type"]
         except KeyError:
             pass
 
     @monitoring.got_histogram("save_time")
@@ -39,15 +39,15 @@
         print("Here is the content of REDIS_CONFIG:", self.config)
         print("Connecting to a single redis server")
         config = copy.deepcopy(self.config)
         redis_url = config.pop("redis", None)
         if not isinstance(redis_url, str):
             raise ValueError(
                 "redis should be specified like redis://[[username]:[password]]@localhost:6379/0")
-        self._redis = aioredis.from_url(redis_url, **config)
+        self._redis = self.aioredis.from_url(redis_url, **config)
 
     def _open(self, filename, *args, **kwargs):
         pass
 
     async def _save(self, id, data):
         return await self._redis.set(id, data)
```

## core/db_adapter/aioredis_sentinel_adapter.py

```diff
@@ -1,22 +1,23 @@
 import copy
-
+import importlib
 import typing
 
-from aioredis.sentinel import Sentinel
-from core.db_adapter.db_adapter import AsyncDBAdapter
 from core.db_adapter import error
-from core.monitoring.monitoring import monitoring
+from core.db_adapter.db_adapter import AsyncDBAdapter
 from core.logging.logger_utils import log
+from core.monitoring.monitoring import monitoring
 
 
 class AIORedisSentinelAdapter(AsyncDBAdapter):
     def __init__(self, config=None):
         super().__init__(config)
-        self._sentinel: typing.Optional[Sentinel] = None
+        self.aioredis = importlib.import_module("redis", "asyncio")
+        sentinel_type = self.aioredis.sentinel.Sentinel
+        self._sentinel: typing.Optional[sentinel_type] = None
         self.service_name = None
         self.socket_timeout = None
 
         try:
             del self.config["type"]
         except KeyError:
             pass
@@ -47,15 +48,15 @@
         self.socket_timeout = config.get("socket_timeout", None)
         if not isinstance(sentinels, list):
             raise ValueError(
                 "sentinels should be specified like [['sentinel.host1', 26379], ['sentinel.host2', 26379]]")
         sentinels_tuples = []
         for sent in sentinels:
             sentinels_tuples.append(tuple(sent))
-        self._sentinel = Sentinel(sentinels_tuples, **config)
+        self._sentinel = self.aioredis.sentinel.Sentinel(sentinels_tuples, **config)
 
     async def _open(self, filename, *args, **kwargs):
         pass
 
     async def _save(self, id, data):
         redis = await self._sentinel.master_for(self.service_name, socket_timeout=self.socket_timeout)
         await redis.set(id, data)
```

## core/logging/logger_utils.py

```diff
@@ -92,19 +92,14 @@
         try:
             message_maker = get_app_config().LOGGER_MESSAGE_CREATOR
             if isinstance(message_maker, Mock):
                 raise AttributeError
         except AttributeError:
             message_maker = LoggerMessageCreator
 
-        # cast log_params["params"] to str
-        # TODO: think how to make it more general
-        if params and "params" in params:
-            params["params"] = str(params["params"])
-
         log_store_for_map = getattr(logging, "log_store_for_map", None)
         if log_store_for_map is not None and params is not None:
             log_store_for = log_store_for_map.get(params.get(log_const.KEY_NAME), log_store_for)
 
         if instance is not None:
             params = message_maker.make_message(user, params, instance.__class__.__name__, log_store_for)
         else:
```

## core/model/base_user.py

```diff
@@ -20,14 +20,16 @@
 class BaseUser(Model):
     USER_DB_VERSION = "user_db_data_version"
 
     counters: Counters
     variables: Variables
     private_vars: Variables
     local_vars: Variables
+    message_vars: Variables  # Хранятся в рамках обработки одного сообщения, очищаются каждое новое пришедшее сообщение.
+                             # Не сохраняются между запросами в интеграцию в рамках одного mid.  # noqa: E114, E116
     descriptions: Descriptions
 
     def __init__(self, id, message, values, descriptions, load_error=False):
         self.id = id
         self.message = message
         self.descriptions = descriptions
         self.load_error = load_error
@@ -47,14 +49,15 @@
         return [
             Field("counters", Counters),
             Field("last_action_ids", LimitedQueuedHashableObjectsItems, self.descriptions["last_action_ids"]),
             Field("last_messages_ids", LimitedQueuedHashableObjects, LimitedQueuedHashableObjectsDescription(None)),
             Field("local_vars", Variables, None, False),
             Field("variables", Variables),
             Field("private_vars", Variables),
+            Field("message_vars", Variables, None, False),
         ]
 
     @property
     def raw_str(self):
         # Attention: non-serializable objects will become str with error message
         raw = json.dumps(self.raw, default=lambda o: f"<non-serializable: {type(o).__qualname__}>")
         log("%(class_name)s.raw USER %(uid)s SAVE db_version = %(db_version)s. "
@@ -65,7 +68,8 @@
         return raw
 
     def expire(self):
         self.counters.expire()
         self.variables.expire()
         self.private_vars.expire()
         self.local_vars.expire()
+        self.message_vars.expire()
```

### encoding

```diff
@@ -1 +1 @@
-us-ascii
+utf-8
```

## core/repositories/classifier_repository.py

```diff
@@ -1,13 +1,23 @@
+from core.utils.version import _get_distribution_safe
+
+if _get_distribution_safe("tensorflow") is None:
+    raise RuntimeError(
+        """
+        Your version of smart-app-framework has no necessary ML libraries.
+        Install smart-app-framework[ml] to use this module
+        """
+    )
+
 import os
 from collections import OrderedDict
 from typing import Callable, Any, Dict
 
 import tensorflow as tf
-from keras.utils.generic_utils import CustomObjectScope
+from tensorflow.keras.utils import CustomObjectScope
 
 import scenarios.logging.logger_constants as scenarios_log_const
 from core.basic_models.classifiers.basic_classifiers import SkipClassifier, SciKitClassifier, ExternalClassifier, \
     SUPPORTED_CLASSIFIERS_TYPES
 from core.basic_models.classifiers.classifiers_constants import REQUIRED_CONFIG_PARAMS
 from core.logging.logger_utils import log
 from core.repositories.base_repository import BaseRepository
```

## core/repositories/dill_repository.py

```diff
@@ -1,8 +1,11 @@
 # coding: utf-8
+import sys
+from pathlib import Path
+
 import dill
 
 import core.logging.logger_constants as log_const
 from core.logging.logger_utils import log
 from core.repositories.base_repository import BaseRepository
 
 
@@ -12,22 +15,26 @@
     Args:
         filename: path to the file
         source: file adapter e.g OSAdapter, CephAdapter etc
         required: raise FileNotFoundError if file not found
     """
     def __init__(self, filename, source=None, required=True, *args, **kwargs):
         super(DillRepository, self).__init__(source=source, *args, **kwargs)
-        self.filename = filename
+        self.filename = Path(filename)
         self.required = required
 
     def load(self):
         dill._dill._reverse_typemap['ClassType'] = type
         try:
-
-            with self.source.open(self.filename, 'rb') as stream:
+            py_version = sys.version_info
+            py_suffix = f"_py{py_version.major}{py_version.minor}"
+            py_version_resolved_filename = (
+                self.filename.parent / f"{self.filename.stem}{py_suffix}{self.filename.suffix}"
+            )
+            with self.source.open(py_version_resolved_filename, 'rb') as stream:
                 data = dill.load(stream)
                 self.fill(data)
         except FileNotFoundError as error:
             params = {
                 'error': str(error),
                 log_const.KEY_NAME: log_const.EXCEPTION_VALUE
             }
```

## scenarios/requirements/requirements.py

```diff
@@ -15,30 +15,30 @@
         last_scenario_id = user.last_scenarios.last_scenario_name
         scenario = user.descriptions["scenarios"].get(last_scenario_id)
         return scenario.check_ask_again_requests(text_preprocessing_result, user, params)
 
 
 class TemplateInArrayRequirement(Requirement):
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(TemplateInArrayRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self._template = UnifiedTemplate(items["template"])
         self._items = set(items["items"])
 
     def check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: User,
               params: Dict[str, Any] = None) -> bool:
         params = params or {}
         collected = user.parametrizer.collect(text_preprocessing_result)
         params.update(collected)
         render_result = self._template.render(params)
         return render_result in self._items
 
 
 class ArrayItemInTemplateRequirement(Requirement):
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(ArrayItemInTemplateRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self._template = UnifiedTemplate(items["template"])
         self._items = set(items["items"])
 
     def check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: User,
               params: Dict[str, Any] = None) -> bool:
         params = params or {}
         collected = user.parametrizer.collect(text_preprocessing_result)
@@ -48,15 +48,15 @@
             if item in render_result:
                 return True
         return False
 
 
 class RegexpInTemplateRequirement(Requirement):
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
-        super(RegexpInTemplateRequirement, self).__init__(items, id)
+        super().__init__(items, id)
         self._template = UnifiedTemplate(items["template"])
         self._regexp = re.compile(items["regexp"], re.S | re.M)
 
     def check(self, text_preprocessing_result: BaseTextPreprocessingResult, user: User,
               params: Dict[str, Any] = None) -> bool:
         params = params or {}
         collected = user.parametrizer.collect(text_preprocessing_result)
```

## smart_kit/configs/logger_config.py

```diff
@@ -1,15 +1,15 @@
 # coding: utf-8
 import os
 
 import yaml
 
 from core.configs.base_config import BaseConfig
 from core.repositories.file_repository import FileRepository
-from smart_kit.management.version import get_nlpf_version
+from core.utils.version import get_nlpf_version
 from smart_kit.utils.logger_writer.logger_formatter import SmartKitJsonFormatter
 
 
 def setup_version():
     SmartKitJsonFormatter.NLPF_VERSION = get_nlpf_version() or 0
     SmartKitJsonFormatter.VERSION = os.getenv("VERSION") or 0
```

## smart_kit/management/smart_kit_manager.py

```diff
@@ -1,13 +1,13 @@
 import os
 import shutil
 
 import smart_kit
 from smart_kit.management.base import Manager, AppCommand
-from smart_kit.management.version import get_nlpf_version
+from core.utils.version import get_nlpf_version
 
 
 class SmartKitManager(Manager):
     def default(self, argv):
         return self.execute_command("help", *argv[2:])
```

## smart_kit/models/smartapp_model.py

```diff
@@ -2,17 +2,19 @@
 import sys
 import traceback
 from typing import List, Optional
 
 from core.basic_models.actions.command import Command
 from core.descriptions.descriptions import Descriptions
 from core.logging.logger_utils import log
+from core.message.from_message import SmartAppFromMessage
 from core.utils.exception_handlers import exc_handler
 
 import scenarios.logging.logger_constants as log_const
+from scenarios.user.user_model import User
 from smart_kit.handlers.handle_close_app import HandlerCloseApp
 from smart_kit.handlers.handle_take_runtime_permissions import HandlerTakeRuntimePermissions
 from smart_kit.handlers.handler_base import HandlerBase
 from smart_kit.handlers.handler_take_profile_data import HandlerTakeProfileData
 from smart_kit.names.message_names import MESSAGE_TO_SKILL, LOCAL_TIMEOUT, RUN_APP, SERVER_ACTION, CLOSE_APP, \
     TAKE_PROFILE_DATA, TAKE_RUNTIME_PERMISSIONS
 from smart_kit.handlers.handler_run_app import HandlerRunApp
@@ -67,16 +69,17 @@
     def init_additional_handlers(self):
         self._handlers.update({
             message_name: handler_dict["handler"](self.app_name, **handler_dict.get("params", {}))
             for message_name, handler_dict in self.additional_handlers.items()
         })
 
     @exc_handler(on_error_obj_method_name="on_answer_error")
-    async def answer(self, message, user) -> Optional[List[Command]]:
+    async def answer(self, message: SmartAppFromMessage, user: User) -> Optional[List[Command]]:
         user.expire()
+        user.message_vars.clear()
         handler = self.get_handler(message.type)
 
         if not user.load_error:
             commands = await handler.run(message.payload, user)
         else:
             log("Error in loading user data", user, level="ERROR", exc_info=True)
             raise Exception("Error in loading user data")
```

## smart_kit/resources/__init__.py

```diff
@@ -1,9 +1,7 @@
-import json
-
 import core.basic_models.operators.comparators as cmp
 import core.basic_models.operators.operators as op
 import core.basic_models.requirement.device_requirements as dr
 import scenarios.scenario_models.field.composite_fillers as cffd
 import scenarios.scenario_models.field.field_filler_description as ffd
 import scenarios.scenario_models.field_requirements.field_requirements as frd
 from core.basic_models.actions.basic_actions import actions, action_factory, Action, \
@@ -49,15 +47,14 @@
 from core.db_adapter.db_adapter import db_adapters
 from core.db_adapter.ignite_adapter import IgniteAdapter
 from core.db_adapter.memory_adapter import MemoryAdapter
 from core.descriptions.descriptions import registered_description_factories
 from core.model.queued_objects.limited_queued_hashable_objects_description import \
     LimitedQueuedHashableObjectsDescriptionsItems
 from core.model.registered import registered_factories
-from core.repositories.classifier_repository import ClassifierRepository
 from core.repositories.file_repository import FileRepository
 from core.repositories.folder_repository import FolderRepository
 from core.request.base_request import requests_registered
 from core.request.rest_request import RestRequest
 from core.utils.loader import ordered_json
 from scenarios.actions.action import (
     BreakScenarioAction, ChoiceScenarioAction, ClearCurrentScenarioAction, ClearCurrentScenarioFormAction,
@@ -128,21 +125,14 @@
                              key="external_field_fillers"),
             FileRepository(self.subfolder_path("responses.json"), loader=ordered_json, source=source,
                            key="responses"),
             FileRepository(self.subfolder_path("last_action_ids.json"), loader=ordered_json,
                            source=source, key="last_action_ids"),
             FolderRepository(self.subfolder_path("bundles"), loader=ordered_json, source=source,
                              key="bundles"),
-            ClassifierRepository(
-                description_path=self.subfolder_path("classifiers"),
-                data_path=self.subfolder_path("classifiers_data"),
-                loader=json.loads,
-                source=source,
-                key="external_classifiers"
-            )
         ]
 
         self.repositories = self.override_repositories(self.repositories)
         self.init()
 
     @property
     def _subfolder(self):
```

## smart_kit/template/app/basic_entities/requirements.py-tpl

```diff
@@ -7,15 +7,17 @@
 
 class CustomRequirement(Requirement):
     """Требование, которое можно использовать для ветвления сценариях
 
     Для использования в сценариях, описанных в формате json, необходимо зарегистрировать новый тип Requirement в
     CustomAppResources. По умолчанию, данный requirement зарегистрирован под типом "custom_requirement".
     """
+    cache_result = False  # Использовать ли закешированный результат в рамках обработки сообщения и совпадения items
+
     def __init__(self, items: Dict[str, Any], id: Optional[str] = None) -> None:
         super().__init__(items, id)
         items = items or {}
         self.test_param = items.get("test_param")
 
-    def check(self, text_preprocessing_result: TextPreprocessingResult,
-                    user: User, params: Dict[str, Any] = None) -> bool:
+    def _check(self, text_preprocessing_result: TextPreprocessingResult,
+               user: User, params: Dict[str, Any] = None) -> bool:
         return False
```

## smart_kit/template/app/resources/custom_app_resources.py-tpl

```diff
@@ -1,10 +1,13 @@
+import json
+
 from core.basic_models.requirement.basic_requirements import requirements
 from core.basic_models.actions.basic_actions import actions
 from core.db_adapter.db_adapter import db_adapters
+from core.repositories.classifier_repository import ClassifierRepository
 import scenarios.scenario_models.field.field_filler_description as ffd
 from smart_kit.resources import SmartAppResources
 
 from app.adapters.db_adapters import CustomDBAdapter
 from app.basic_entities.actions import CustomAction
 from app.basic_entities.fillers import CustomFieldFiller
 from app.basic_entities.requirements import CustomRequirement
@@ -17,15 +20,24 @@
     """
     def override_repositories(self, repositories: list):
         """Метод предназначен для переопределения репозиториев в дочерних классах
 
         :param repositories: Список репозиториев родителя
         :return: Переопределённый в наследниках список репозиториев
         """
-        return repositories
+        result_repositories = repositories + [
+            ClassifierRepository(
+                description_path=self.subfolder_path("classifiers"),
+                data_path=self.subfolder_path("classifiers_data"),
+                loader=json.loads,
+                source=self.source,
+                key="external_classifiers"
+            ),
+        ]
+        return result_repositories
 
     def init_field_filler_description(self):
         super().init_field_filler_description()
         ffd.field_filler_description["custom_filler"] = CustomFieldFiller
 
     def init_actions(self):
         super().init_actions()
```

## smart_kit/utils/logger_writer/logger_formatter.py

```diff
@@ -1,37 +1,92 @@
 # coding: utf-8
 from datetime import datetime
+from numbers import Number
+from typing import Any, Dict, Optional
 
 from pythonjsonlogger import jsonlogger
 import logging
 from core.model.factory import build_factory
 from core.model.registered import Registered
 
-loggers_formatter = Registered()
 
+def to_num(s):
+    try:
+        return int(s)
+    except ValueError:
+        return float(s)
+
+
+TYPES = {
+    "str": str,
+    "dict": dict,
+    "int": Number,
+    "bool": bool,
+}
+
+TYPE_CASTS = {
+    "str": str,
+    "dict": dict,
+    "int": to_num,
+    "bool": bool,
+}
+
+
+loggers_formatter = Registered()
 loggers_formatter_factory = build_factory(loggers_formatter)
 
 
 class SmartKitJsonFormatter(jsonlogger.JsonFormatter):
     VERSION = 0
     NLPF_VERSION = 0
     DEV_TEAM = "NA"
     APPLICATION_NAME = "NA"
 
+    def __init__(self, *args, **kwargs):
+        self.fields_type: dict = kwargs.pop("fields_type", None)
+        super().__init__(*args, **kwargs)
+
     def add_fields(self, log_record, record, message_dict):
         super(SmartKitJsonFormatter, self).add_fields(log_record, record, message_dict)
         dt = datetime.fromtimestamp(record.created)
         st = dt.strftime("%Y-%m-%dT%H:%M:%S")
-        log_record['timestamp'] = "%s.%06d" % (st, record.msecs * 1000)
-        log_record['version'] = self.VERSION
-        log_record['nlpf_version'] = self.NLPF_VERSION
-        log_record['team'] = self.DEV_TEAM
-        log_record['application'] = self.APPLICATION_NAME
+        log_record["timestamp"] = "%s.%06d" % (st, record.msecs * 1000)
+        log_record["version"] = self.VERSION
+        log_record["nlpf_version"] = self.NLPF_VERSION
+        log_record["team"] = self.DEV_TEAM
+        log_record["application"] = self.APPLICATION_NAME
         if isinstance(record.args, dict):
-            log_record['args'] = record.args
+            log_record["args"] = self._check_fields(record.args)
+
+    def _check_fields(self, record_args: Dict[str, Any], types: Optional[Dict[str, dict]] = None):
+        if types is None:
+            types = self.fields_type
+        if types is None:
+            return record_args
+        for k, v in record_args.items():
+            if k not in types or v is None:  # скипаем проверку если поля нет в конфиге, или value = None
+                continue
+            if types[k]["type"] == "dict":  # отдельно рекурсивно обрабатываем словари
+                if not isinstance(v, dict):  # преобразуем в строку в новое поле, если тип не соответсвует
+                    record_args[k] = "__del__"
+                    record_args[f"{k}__str"] = str(v)
+                    continue
+                record_args[k] = self._check_fields(v, types[k]["fields"])
+                continue
+            if isinstance(v, TYPES[types[k]["type"]]):  # noqa
+                continue
+
+            # пытаемся кастануть тип
+            try:
+                record_args[k] = TYPE_CASTS[types[k]["type"]](v)
+            except (ValueError, TypeError):
+                record_args[k] = "__del__"
+                record_args[f"{k}__str"] = str(v)
+
+        return {k: v for k, v in record_args.items() if v != "__del__"}
 
     def format(self, record: logging.LogRecord) -> str:
         # В готовый json логов добавляем поле с размером json-а.
         result = super(SmartKitJsonFormatter, self).format(record)
         log_size = len(result)
         # Убираем последнюю закрывающую скобку и добавляем поле log_size и закрываем скобки
         return f'{result[:-1]},"log_size":{log_size}}}'
```

## Comparing `smart_kit/management/version.py` & `core/utils/version.py`

 * *Files identical despite different names*

## Comparing `smart_app_framework-2.0.1rc9.dist-info/METADATA` & `smart_app_framework-2.0.2rc1.dist-info/METADATA`

 * *Files 7% similar despite different names*

```diff
@@ -1,56 +1,57 @@
 Metadata-Version: 2.1
 Name: smart-app-framework
-Version: 2.0.1rc9
+Version: 2.0.2rc1
 Summary: Python-фреймворк, который позволяет создавать смартапы для виртуальных ассистентов Салют.
 Author: Salute Developers
 Author-email: developer@sberdevices.ru
-Requires-Python: >=3.8.1,<3.10
+Requires-Python: >=3.8.1,<3.12
 Classifier: Operating System :: MacOS
 Classifier: Operating System :: POSIX :: Linux
 Classifier: Programming Language :: Python :: 3
 Classifier: Programming Language :: Python :: 3.9
+Classifier: Programming Language :: Python :: 3.10
+Classifier: Programming Language :: Python :: 3.11
+Provides-Extra: ml
 Requires-Dist: Jinja2 (==3.0.3)
 Requires-Dist: PyYAML (==5.3)
 Requires-Dist: Twisted (==22.8.0)
-Requires-Dist: aiohttp (==3.7.4)
-Requires-Dist: aioredis (==2.0.0)
+Requires-Dist: aiohttp (==3.8.4)
 Requires-Dist: boto (==2.49.0)
-Requires-Dist: confluent_kafka (==1.9.2)
+Requires-Dist: cachetools (==5.3.0)
+Requires-Dist: confluent_kafka (==1.9.2) ; python_version < "3.11"
+Requires-Dist: confluent_kafka (==2.0.2) ; python_full_version >= "3.11.0" and python_full_version < "3.12.0"
 Requires-Dist: croniter (==1.3.7)
-Requires-Dist: dill (==0.3.3)
+Requires-Dist: dill (==0.3.6)
 Requires-Dist: freezegun (==1.1.0)
-Requires-Dist: google-auth (==2.12.0)
-Requires-Dist: grpcio (==1.49.1)
 Requires-Dist: ics (==0.6)
 Requires-Dist: incremental (==21.3.0)
-Requires-Dist: keras (==2.8.0)
+Requires-Dist: keras (==2.12.0) ; extra == "ml"
 Requires-Dist: lxml (==4.9.2)
 Requires-Dist: nltk (==3.5)
-Requires-Dist: numpy (==1.21.0)
-Requires-Dist: oauthlib (==3.2.0)
+Requires-Dist: numpy (==1.23.5)
 Requires-Dist: objgraph (==3.4.1)
 Requires-Dist: prometheus-client (==0.7.1)
-Requires-Dist: protobuf (==3.19.6)
+Requires-Dist: protobuf (==3.20.3)
 Requires-Dist: psutil (==5.8.0)
 Requires-Dist: pyignite (==0.5.2)
 Requires-Dist: pymorphy2 (==0.8)
 Requires-Dist: pymorphy2_dicts (==2.4.393442.3710985)
 Requires-Dist: python-dateutil (==2.7.3)
 Requires-Dist: python-json-logger (==0.1.11)
 Requires-Dist: requests (==2.22.0)
 Requires-Dist: rusenttokenize (==0.0.5)
-Requires-Dist: scikit-learn (==1.1.2)
+Requires-Dist: scikit-learn (==1.1.2) ; (python_version < "3.11") and (extra == "ml")
+Requires-Dist: scikit-learn (==1.2.0) ; (python_full_version >= "3.11.0" and python_full_version < "3.12.0") and (extra == "ml")
 Requires-Dist: setuptools (==62.3.2)
 Requires-Dist: tabulate (==0.9.0)
-Requires-Dist: tatsu (==5.6.1)
-Requires-Dist: tensorflow (==2.8.0) ; sys_platform == "darwin" and platform_machine == "x86_64"
-Requires-Dist: tensorflow (==2.8.0) ; sys_platform == "linux" and platform_machine == "x86_64"
-Requires-Dist: tensorflow-aarch64 (==2.8.0) ; sys_platform == "linux" and platform_machine == "aarch64"
-Requires-Dist: tensorflow-macos (==2.8.0) ; sys_platform == "darwin" and platform_machine == "arm64"
+Requires-Dist: tensorflow (==2.12.0) ; (sys_platform == "darwin" and platform_machine == "x86_64") and (extra == "ml")
+Requires-Dist: tensorflow (==2.12.0) ; (sys_platform == "linux" and platform_machine == "x86_64") and (extra == "ml")
+Requires-Dist: tensorflow-aarch64 (==2.12.0) ; (sys_platform == "linux" and platform_machine == "aarch64") and (extra == "ml")
+Requires-Dist: tensorflow-macos (==2.12.0) ; (sys_platform == "darwin" and platform_machine == "arm64") and (extra == "ml")
 Requires-Dist: timeout-decorator (==0.4.1)
 Requires-Dist: tqdm (==4.64.1)
 Description-Content-Type: text/markdown
 
 # SmartApp Framework
 
 **SmartApp Framework** - это Python-фреймворк, который позволяет создавать смартапы для виртуальных ассистентов Салют.
```

## Comparing `smart_app_framework-2.0.1rc9.dist-info/RECORD` & `smart_app_framework-2.0.2rc1.dist-info/RECORD`

 * *Files 1% similar despite different names*

```diff
@@ -23,30 +23,30 @@
 core/basic_models/operators/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 core/basic_models/operators/comparators.py,sha256=RHZMh_hskNI02sOzx0nY98VSMt1BFZc4q_ZRfXAB4T4,1278
 core/basic_models/operators/operators.py,sha256=hOLzUEoFwqIFdzsywOhAk_qpjTpdVx4cId8bMbnFNgA,4302
 core/basic_models/parametrizers/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 core/basic_models/parametrizers/filter.py,sha256=iEAZADx3swT7lhcyTCW9z1zKBY5ARHKo-zmS-Xk0mus,186
 core/basic_models/parametrizers/parametrizer.py,sha256=0NR6vWpEHZl5o9QIzqTiva6SIy6JaPxmI4m3RxmnJH0,840
 core/basic_models/requirement/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-core/basic_models/requirement/basic_requirements.py,sha256=Z4JsKd9EUew2UmCxP_GVrvb0lWqQE-RLwWm_6tPWEbY,15402
-core/basic_models/requirement/counter_requirements.py,sha256=PGwvHinRbTKD9wN1MAOv7CZitOJZfS0vkV2oU7PpBuY,1513
-core/basic_models/requirement/device_requirements.py,sha256=ECh4xz9R9YJJjbdfmO3bCiGDDy82RIRkcbgP5yPIOHk,4686
-core/basic_models/requirement/external_requirements.py,sha256=GZusfI7i7v32oPQF5iqhPyrOcc0zjMaR98GeVDWNs1s,1089
+core/basic_models/requirement/basic_requirements.py,sha256=TodkOE0GeVvjpuzl86gI3c_fJLk1Br694TvCfXPQxEA,17146
+core/basic_models/requirement/counter_requirements.py,sha256=Eu4jDWCD3RZJOMgPAaVa-fRv_te5kNcV8rl24rPukac,1450
+core/basic_models/requirement/device_requirements.py,sha256=cBIKae9NibpXA1f_-21j33h-wawLEYHwtgJ6eekpX14,4505
+core/basic_models/requirement/external_requirements.py,sha256=QnszWVYj9pQSDQs9G-RfE4l5ipCq_Ev1R1ZaIY0hkkY,1038
 core/basic_models/requirement/project_requirements.py,sha256=MEiE_rjhUaMmQXL549Vuh16AMM5YtUUluBAuDBIgjBA,733
-core/basic_models/requirement/user_text_requirements.py,sha256=0F2RCe8iJUfp1XRoYKpzCjYPiHo6YpIOvyZ9XhZFVCI,6346
+core/basic_models/requirement/user_text_requirements.py,sha256=rLIxrdIVI8ssOr-UdrTL-Fydg2oX3LylKdQ8VXAgoX8,6240
 core/basic_models/scenarios/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 core/basic_models/scenarios/base_scenario.py,sha256=mEvnvU7trAjOTu9i0tpFvQ5WLNL_MzT4SBsgESH8JK0,4594
 core/basic_models/variables/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-core/basic_models/variables/variables.py,sha256=EbtzxT-2oicPUg1aEAG6B-rBqVEmrtzEnGgbo5UIakI,1469
+core/basic_models/variables/variables.py,sha256=7b_QJsUIBnqMg2wh1Gqua7XTg1EWJubPmQPovVSyU_8,1553
 core/configs/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 core/configs/base_config.py,sha256=JMoNL3BbAebKamcKMwNsveQ-_LX0dgljWDOu0IGb9Xk,1931
 core/configs/global_constants.py,sha256=KAy2QQ8ZPE5ri1GmtyuxEGEN4qlS6sopyN-a_GCEUAk,514
 core/db_adapter/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-core/db_adapter/aioredis_adapter.py,sha256=802OcoXnIvxL0jMrMs7AmmkQapQDAEYZasUf32JctZc,2220
-core/db_adapter/aioredis_sentinel_adapter.py,sha256=L1SdVDV23p-o3_qmSaGlnR3yxt0WjU4wIOFven8nleA,2906
+core/db_adapter/aioredis_adapter.py,sha256=JKrYC66tHuWPyO3A-xeX5NU1PsH_TPApEKw5oxFYVWE,2329
+core/db_adapter/aioredis_sentinel_adapter.py,sha256=IKNL5SjLcj-HZ76Adalbs4IVxzhrR5NEs489rTr6A04,3035
 core/db_adapter/ceph/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 core/db_adapter/ceph/ceph_adapter.py,sha256=hK8GB5pFaNEZ5hopJ2V_2ks4x7LktBcD5dkbdgPJ-vA,2413
 core/db_adapter/ceph/ceph_exception.py,sha256=UUFOfRdcUVbc-9wPUZVUjToRGSNI-kAbRWPqmf-tOqw,114
 core/db_adapter/ceph/ceph_io.py,sha256=fYKx67FBnj4GN5We6MbZ8zLzOBIbd6gDJtt8sUoEIxU,1265
 core/db_adapter/db_adapter.py,sha256=ibJxmTl0WtjHqft3OztIQiPlzRQoFHUoWYvlrTuIMxQ,4325
 core/db_adapter/error.py,sha256=bGYTrKT70VD-uD_oxErjnYUy9003kMdV8wXfSIbm860,223
 core/db_adapter/ignite_adapter.py,sha256=zzn3iKJJIgNEyV4MZAb0eifDkJi5cDF9X4prfCb3vxI,3004
@@ -57,23 +57,23 @@
 core/descriptions/descriptions.py,sha256=FGbN8EYbSm5FkIJDSrQgY7BJaKZjpn7sXxdWUzx3pIg,1155
 core/descriptions/descriptions_items.py,sha256=LWBTAOssEnFJKS94bsigV1vAzNSDoV_-OZEyh8cdavc,1662
 core/descriptions/smart_updatable_descriptions_items.py,sha256=997QG44D9DDyx9Kh7M_YHGzMNjTlAiMnsRT4kG4RO9g,626
 core/logging/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 core/logging/logger_constants.py,sha256=hn56NJa4uT94uZ56W7nVFxV8rJp2fczrBHJLhh2XFPM,568
 core/logging/logger_formatter.py,sha256=3gBZq87MQIj2f45MF5AcsJNAoLJVM6aUYE7C2hd-6p0,937
 core/logging/logger_handlers.py,sha256=RWetoI6jCU7UUnZrxKol0kPxOLRaMSv-h0VhzUSC5y8,386
-core/logging/logger_utils.py,sha256=fcs-0BpOspRTW25poKm1m75fbx9MwMU5ygXQE39AGj8,5453
+core/logging/logger_utils.py,sha256=gwbCzCFmdtxj0RfKOXG4HfW--YOPttHWKf8GycFvBF8,5264
 core/message/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 core/message/app_info.py,sha256=N35Q5NIuwi7CADWt8DqLcg97h0IVt9Up6WhQhwmdeZ4,765
 core/message/device.py,sha256=u7XbFgDDx7n8vScd_KgMySt_ztrYnoRzwmfr4ukMOFo,1370
 core/message/from_message.py,sha256=E8LfHen15ffIWGIVuO1VT4M57p1PwAhJx1hNGQRNu2g,9260
 core/message/message_constants.py,sha256=K_ZvW_IvW7bBDo5PrrWFBlfPGq9WJQuz5a4O9YWmEsc,120
 core/message/msg_validator.py,sha256=tFm5A9yTE5HoPntYPS5057c43viDuODNLryeL2mRzUI,179
 core/model/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-core/model/base_user.py,sha256=LOlMqW76JVgBB42uHhjKrwkjcOCD4KquAMmwmZ4OMEY,2700
+core/model/base_user.py,sha256=m2vtxxan7ow1JLo6BHIKsGsqXOUGR3WCztHyfNXJ10w,3159
 core/model/factory.py,sha256=7OlLQPmiEv0Gcaa13eahwN6WJ14hxii6tgRxUu--fNA,2817
 core/model/field.py,sha256=D2YvHG_9NnLS1uU5PaMPFUrFhypgv9FD1JfoAOk5fEw,209
 core/model/heapq/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 core/model/heapq/heapq_storage.py,sha256=ES2lcQmjR4uzE9E-CDxFV2yh_EH5flLyFTSZKPotF7k,1060
 core/model/lazy_items.py,sha256=-pN6BhwJswwsax4KzvlaYueoFML0tyg6fu53qdZI45c,2048
 core/model/model.py,sha256=fCEQzLYizjzL5E3H_kBDwU-a-RDwB0isZfme90_VIC8,899
 core/model/queued_objects/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
@@ -91,17 +91,17 @@
 core/mq/kafka/base_kafka_publisher.py,sha256=aH9hXVkWbKYkxd0O2fKNmv-36LJURQzIIcIH9mBVO0A,175
 core/mq/kafka/kafka_consumer.py,sha256=UAxRDPDyrg6YtD3EYlGcAZqdLHL2l4IXSwyTrOJTImw,5208
 core/mq/kafka/kafka_publisher.py,sha256=xsGwXcDMOhL1JyJXsw3ZOjsO9Chi1GvRez11dgKdZVA,4526
 core/names/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 core/names/field.py,sha256=VebaUeRz5Zsi6Q2ER0dc8DQY7eOcNq1teFiKbCni-uA,749
 core/repositories/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 core/repositories/base_repository.py,sha256=XboNMvoaSI-ZnqJcAztYCQ0gnEsUsFxNBDU8ql4ARwU,1392
-core/repositories/classifier_repository.py,sha256=tLzIlFGx8L2Z48OQtz74xmtdRYemutJAKWrkvSM3fK0,7415
+core/repositories/classifier_repository.py,sha256=jKnGOcg5np4luzwWfxTKidsRMJU5rlnT5H0f5EKbXXw,7705
 core/repositories/csv_repository.py,sha256=j0pPlqHh3lJ0Sc4DUI-FNLfms8bp4zTusYNcybkgkzs,519
-core/repositories/dill_repository.py,sha256=utaRrNVThIbBi1KsqmsccNVq6VjtxHsljaFrsFAYj78,1259
+core/repositories/dill_repository.py,sha256=tmFpqJDJ-cTw0N2kEGjJG2ZBM-ajjWBcLbfCAAHy9Sk,1580
 core/repositories/file_repository.py,sha256=WItjRrdOjYYrDkUuRTkYtV_ppPevzHQxTXwWPaaW034,2707
 core/repositories/folder_repository.py,sha256=UHCPKGC8bZRT0MfvRIx8zrgbnsq2pXLVYKSiT1wlx5E,2541
 core/repositories/items_repository.py,sha256=OlLFvFIAkQ769ks6kwJo8jZcD9HwJ3l1r_Mu8mM28QI,588
 core/repositories/shard_repository.py,sha256=PMfB5S5ozYXYZjeGCBRw6C0-3yESs0tYphfUAvaY8ww,1674
 core/request/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 core/request/base_request.py,sha256=aXjPvajEMmgKNYvw3k1NLo92iTB3XcvWwnBjq2PSr7I,921
 core/request/external_requests.py,sha256=Q6jrloXWh5yAFprT8fArdzZ4-YX4RV_oCAMYDMEINBU,268
@@ -130,26 +130,27 @@
 core/utils/memstats.py,sha256=zf_pkw2rcJHU9weNNAV6-ts2Ta8UWgXY-NjS8sylEsE,1568
 core/utils/period_determiner.py,sha256=LCzZMRbJ2oYJ8hrjbSeNaajsjUzz4DKvptT1UnJvgbA,32149
 core/utils/pickle_copy.py,sha256=GSnMppL1P2JIh0jGoJbOztFk1fT2IB3oM7PKKWY4A1M,529
 core/utils/rerunable.py,sha256=nODhE7kbNMEgbdem2_TYNkW-My4L9WYQdVw4nEJl3jY,1640
 core/utils/singleton.py,sha256=HHb_IUEKnjLUyIpm193WICjkIW9cthjiKbgFFPrhNg0,241
 core/utils/stats_timer.py,sha256=lr2NH97NVo5H3lHQfz98oQtpUyxFpW8TP1DkjJqCIzE,293
 core/utils/utils.py,sha256=Hc-7qqLulz6krDKRYhnyi3YsuWqdeadN4yb4vIVZB3I,3673
+core/utils/version.py,sha256=_K9OLCxOsoduxtgU0BHpkI8bTeKD0HgoXpRemSBye3w,629
 scenarios/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 scenarios/actions/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 scenarios/actions/action.py,sha256=erebZWPu-0Ue6Whtb3ZSoigKFxXP9ha3igF4K3obBmY,22740
 scenarios/actions/action_params_names.py,sha256=2hlLiPywOLKpamchkYNOs565B0dV52gE2eT86dnpaR0,168
 scenarios/behaviors/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 scenarios/behaviors/behavior_description.py,sha256=poRPi_K0goMbTkUs4MriS4t3XR8ddOjlw7WSfn5hbVY,1312
 scenarios/behaviors/behavior_descriptions.py,sha256=w2S96S87yQjbT29qGfRVqEwWQfqhyv0TmQc6b6j95sk,359
 scenarios/behaviors/behaviors.py,sha256=UdkHzh5poO6GuErUNjESNhpGf6wfDUN3F2LAgPBCrYI,15834
 scenarios/logging/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 scenarios/logging/logger_constants.py,sha256=1-8BDXuGVlm7zadXxbgYBtX-uqLN1iiWgxJYSBH1Wgk,4248
 scenarios/requirements/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-scenarios/requirements/requirements.py,sha256=Gs1vhmmfunc9wf5lAWGDlA_T9F7_8E5tSoUJvIEDWic,2900
+scenarios/requirements/requirements.py,sha256=V2PMggBuETJiCUKZghNQ2krkj4HR09qsUjvzrx_5tls,2799
 scenarios/scenario_descriptions/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 scenarios/scenario_descriptions/form_filling_scenario.py,sha256=zXAe7sqWdNufIfYQG8xPIWBAFVwHoDx_kY2ILglAioY,10695
 scenarios/scenario_descriptions/scenarios_description.py,sha256=LuLDMzYE015rgdeCmk0ER9uyZ8QbirrVgPO8Ke_A-68,370
 scenarios/scenario_descriptions/tree_scenario/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 scenarios/scenario_descriptions/tree_scenario/tree_scenario.py,sha256=gp18Jga_c2HVKwh1AMnrFA4hIOl9u_QtBVKsB8lC0uc,8800
 scenarios/scenario_descriptions/tree_scenario/tree_scenario_node.py,sha256=-063NR-dI8y5f1cqkxCwB0r9xVACYsEfuYVpre2_5Gg,758
 scenarios/scenario_models/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
@@ -204,15 +205,15 @@
 smart_kit/action/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/action/http.py,sha256=IdUEoUl-pOtEuZxEF9gxHaypg5Ilk7P-lYqPsFhuueE,6670
 smart_kit/action/http_with_cookie.py,sha256=sXHgD1-5WvLUSDkSzB71UgJi-G8E_CdY9khjmeg4Fjs,1106
 smart_kit/action/smart_geo_action.py,sha256=KL3S1QIl5YbQMVx7RycpyYOsvHpLfyYYnZGG9FRvYa4,2418
 smart_kit/compatibility/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/compatibility/commands.py,sha256=xJoyXrK4p08Rl5XWkUivSnXUz2RbTZUCJQnL3IVekpw,3119
 smart_kit/configs/__init__.py,sha256=5dgcy-wMsn-gQ_SHbnshpD3YHQ4Svx0S5Y53np-syQg,4159
-smart_kit/configs/logger_config.py,sha256=BU4sVnuLpEbaUvx_hCdzXZO9zk143yxwcuU3QxzNEO8,900
+smart_kit/configs/logger_config.py,sha256=NqwGPvznwfsNn7v_Xo1q_J0LTbaHUjJjhKOqYIIDYUQ,890
 smart_kit/configs/settings.py,sha256=AGiU1Pva0-TVFZ1SbzO_fz4mh8RnRkrR6z8sC1TCYMI,3125
 smart_kit/handlers/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/handlers/handle_close_app.py,sha256=3wh7LD4VkPSDaBbQvHwUXUsSj9Tjb33MpzUs-ONHb-o,1187
 smart_kit/handlers/handle_respond.py,sha256=-8mewCr--xSj_imUtmGTk926ZnNwhChPOwAE7Zspn4Y,3008
 smart_kit/handlers/handle_server_action.py,sha256=rQt2WQ4Tlc2jFgWDg_PLwmLioomhlp8oX9GNNxrMzJc,1674
 smart_kit/handlers/handle_take_runtime_permissions.py,sha256=0PTWl4uXh-ngWkZC0ZlTD0YZGsmITh39dc1vRshEb-s,997
 smart_kit/handlers/handler_base.py,sha256=vBZVsG0QDwm1qtKAAg4bWZfMdW-zo0StW7OteNrxAJ0,764
@@ -222,32 +223,31 @@
 smart_kit/handlers/handler_timeout.py,sha256=UFanh8APLPsBp60-61SdNETK9eIYKrVgXozoZ_3iAoI,1631
 smart_kit/management/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/management/app_manager.py,sha256=5hYYGZ9SLsEosD61LqcC6Xyand_LgwQDdmqI0kOo23A,3642
 smart_kit/management/base.py,sha256=8GqY9vQ-19uR9SxYfc-V_wNbq-E9t18aHfgPNUptUBs,1392
 smart_kit/management/cache.py,sha256=J73uFGk48YqaX2tTQNmBPUKOokX9PKs0ppgumD7uTXk,2550
 smart_kit/management/get_bundles_from_pps.py,sha256=wxmchkE6X9_rncLYN1EcgRXveBvGroeGJ-y-EU9crpc,3050
 smart_kit/management/plugins.py,sha256=5M-di2bkRLcWs1H2MsDv9hQPExs3BK43WkeCgEW8Juw,721
-smart_kit/management/smart_kit_manager.py,sha256=xZ-QbCfnEDB2VCD8-kItxJLVOpqST9piWccQE_qu9II,2082
+smart_kit/management/smart_kit_manager.py,sha256=a2cK1gWrQ8GqFa4e_QdZHvoGSE2OBgeMaxM7iZQ1X3s,2072
 smart_kit/management/tests.py,sha256=wxubruqau-RfRXY6r7ZUH3oc7OFApHSQJm7YFbtg52g,7748
-smart_kit/management/version.py,sha256=_K9OLCxOsoduxtgU0BHpkI8bTeKD0HgoXpRemSBye3w,629
 smart_kit/message/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/message/app_info.py,sha256=N35Q5NIuwi7CADWt8DqLcg97h0IVt9Up6WhQhwmdeZ4,765
 smart_kit/message/as_is_to_message.py,sha256=Nf71Oeez8ZkJHjQwTJ31-X3doj8j2XmkBQ7l4pQBHMI,398
 smart_kit/message/get_to_message.py,sha256=UzQzD7Z3FO9HHJKUzYzaXtsddfVjKKDPdI_-VUU03KM,259
 smart_kit/message/smartapp_to_message.py,sha256=8Ec7F3LcTGYEngvqwXBMjSTq60E25S2iwtoz6lZjpbo,3105
 smart_kit/models/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/models/dialogue_manager.py,sha256=EBLR584n0MQ_uXaOApulj6xYSqyGDlc4kayS7CQGcGc,3363
-smart_kit/models/smartapp_model.py,sha256=2HsJiVILd52F-RbKBvX7tTp0kjsp59X6WZxVEo-yD0c,5118
+smart_kit/models/smartapp_model.py,sha256=7iI3KlWd9qwYz5zR0lxS9BrAhJGqvIhnXYn3ZCSCTEs,5280
 smart_kit/names/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/names/action_params_names.py,sha256=6zLYlEBgeBL6SzCjeLAgojxUOUPcYl0-I77mUKU6av8,144
 smart_kit/names/field.py,sha256=H9A7y0yI03Mr2N9WHCTN6tJ38lm-xHWdCLI4fBDWwu0,124
 smart_kit/names/message_names.py,sha256=pJTk9uFLz8mnHB_PY0kGDjQ9vpWZYbJF24GKAAmD0Mc,360
 smart_kit/request/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/request/kafka_request.py,sha256=cWYtOOiqh7Yz3AVV6Y31_lRTDwYILRr3N4yfcns3T7w,1394
-smart_kit/resources/__init__.py,sha256=y8r_DGEBqjniifDhgXdJJnJTiDX-qoKlrLbXMueN8wA,24875
+smart_kit/resources/__init__.py,sha256=Mai7K65WYLowvKQ70RZwMUaSshnj4DZPKZvyZ4Yhzys,24496
 smart_kit/start_points/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/start_points/app.py,sha256=8lcZV7SiEBzFdcF7oe-54w7hmyHfK9PQ_IDa64_kVjM,1198
 smart_kit/start_points/base_main_loop.py,sha256=Kcedoy-rAhjk2HChcxb-sWY-XlE3ptMcB4VZT6HO6WY,6735
 smart_kit/start_points/constants.py,sha256=d_XQfL3YxYswZd5AFIwugqv8EimD18ZFfPRcPJpAgK0,56
 smart_kit/start_points/main_loop_async_http.py,sha256=o2tOOpkt-J0T3fJzS-cKVBqAEwEsmshWeACbudzzBfg,7976
 smart_kit/start_points/main_loop_http.py,sha256=TNNHuwrqbrg7fpLY1pY_J43dA2hbsNs-_MePOyqo_s8,7147
 smart_kit/start_points/main_loop_kafka.py,sha256=KNVMRXimJ4FY2cDMA06Y0Q6Prlba096S-Op9gU9dN4c,36715
@@ -257,24 +257,24 @@
 smart_kit/system_answers/nothing_found_action.py,sha256=yW0_X34v4UEuPFlR2jTdBk7wJ9elSu-MezLVcNS-jJY,1005
 smart_kit/template/app/__init__.py-tpl,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/template/app/adapters/__init__.py-tpl,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/template/app/adapters/db_adapters.py-tpl,sha256=yocQSahj8Kgw2Odi9XUlO7E7Y2DXCxe1Tq6bgP2tJnQ,969
 smart_kit/template/app/basic_entities/__init__.py-tpl,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/template/app/basic_entities/actions.py-tpl,sha256=6b_X3RGU2-cmPzBk2FSi9fvz6wtv3e4nkU4-8p90x14,1301
 smart_kit/template/app/basic_entities/fillers.py-tpl,sha256=56SEH1CxaTkusicCNWYlC7NuPvqMZ7E22hos-B2Daew,1166
-smart_kit/template/app/basic_entities/requirements.py-tpl,sha256=C-_vKJjU3iJ4aYR5B0OCC4YxAxv67wLkG66EZOi5nXE,1108
+smart_kit/template/app/basic_entities/requirements.py-tpl,sha256=tgw6t1ImgCf1qOudEWW4tZb7Lku-h0LSuHvUPy4oZW4,1295
 smart_kit/template/app/handlers/__init__.py-tpl,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/template/app/handlers/handlers.py-tpl,sha256=6ugQ400t9QYMaKhHhknTZPWmAQQ__XfI3s4ve_5l4Gc,783
 smart_kit/template/app/local_testing/__init__.py-tpl,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/template/app/local_testing/custom_local_testing.py-tpl,sha256=ChfOlKeISZtrsREZkcgMVs4eXhfPPxB7o78_LTtlDko,1218
 smart_kit/template/app/models/__init__.py-tpl,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/template/app/models/dialogue_manager.py-tpl,sha256=iYOuobPAsoNbZXN0S_zqBXz1hv2vJTvjB3pMItokKQk,422
 smart_kit/template/app/models/model.py-tpl,sha256=a6GoIlg8on5ZalVvFStp9zE7GmGUvMnqR21KNAdDP48,760
 smart_kit/template/app/resources/__init__.py-tpl,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-smart_kit/template/app/resources/custom_app_resources.py-tpl,sha256=gm_CAD3uO8gWfCxsibg3SDqCaZ0RGGenQ9NDB6JYV_M,1946
+smart_kit/template/app/resources/custom_app_resources.py-tpl,sha256=H1OXcU_kAmXihoyuRspJXr5BHkrTAnqUAbF5IuNgygU,2395
 smart_kit/template/app/user/__init__.py-tpl,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/template/app/user/parametrizer.py-tpl,sha256=gAOZRUQfPLWNFpx2IXatkyInsx80uKEZdKI9Q2Qz4lg,722
 smart_kit/template/app/user/user.py-tpl,sha256=KuHlAHsw5ePat8kjBK9fhKGA5MIG7maj27M8w2Unwx4,1055
 smart_kit/template/app_config.py-tpl,sha256=rHCHD-n03QUw-nhzpfbYZLEXcmWKx2-VEe2kmnctCl4,656
 smart_kit/template/manage.py-tpl,sha256=nbXVADgT8oFd9N9qXpR7kz4qkdd0dEwI5NCK6rohjfo,264
 smart_kit/template/monitoring/__init__.py-tpl,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/template/monitoring/monitoring_wsgi_app.py-tpl,sha256=a1A_NSrWh4Qwt-xYpNRjSBMcMxknixzcFnOsGzFXNxg,519
@@ -283,15 +283,19 @@
 smart_kit/template/static/.text_normalizer_resources/text2num_dict.json,sha256=5Lo95isOvyqz4fwDBgfoIPvyStx_rv7lwD9cLRtvUsQ,61823
 smart_kit/template/static/configs/logging_config.yml,sha256=OzEdya6yo6Fia5ybf2qOK9Y7l8L7-vm3ByBIsQtLZns,1452
 smart_kit/template/static/configs/template_config.yml,sha256=uc6wJGq1PgY0JWNMDkca1Ysolf5MzUFIyXFbQ1BdpFM,432
 smart_kit/template/static/references/actions/actions.json,sha256=V3mE3t4qaFjy0RsprWg_kaCfLItFzOtuejioTBj4Z2E,609
 smart_kit/template/static/references/behaviors/behaviors.json,sha256=71Mxw8CoH-UKbz4DEzW6SL5ghq4nm1gVgE7M4LrSFNI,1632
 smart_kit/template/static/references/bundles/bundles.json,sha256=byWQvKT9XksxK5IE9jUOsdXmBQaVrK6b0GnnIces5bE,1452
 smart_kit/template/static/references/classifiers/classifiers.json,sha256=WupufczI8M45iJD3ZMo3A3lw25xFj6gVt3fFNVCQvaQ,294
-smart_kit/template/static/references/classifiers_data/ReadBookOrNotClassifier.pkl,sha256=2uO93rRNF3O39zuOsWfkSfT2kiSRv_r3xK19w5RETtY,1616
+smart_kit/template/static/references/classifiers_data/ReadBookOrNotClassifier_py310.pkl,sha256=xdvaR70nDxq77KgpyxPtu8nERoLUl5BgYWJpZ8b5Oc8,1407
+smart_kit/template/static/references/classifiers_data/ReadBookOrNotClassifier_py311.pkl,sha256=CLuyGYLixGqSKyqmiS_duk9vNnm-v7VLMfschDzIc2g,1687
+smart_kit/template/static/references/classifiers_data/ReadBookOrNotClassifier_py38.pkl,sha256=XMGM46gLlBRWgqsVQ2gMz23cXHAb-FxaFzgAacajTjw,1413
+smart_kit/template/static/references/classifiers_data/ReadBookOrNotClassifier_py39.pkl,sha256=pfNs-Xt6nsiAJ0hmILLbA4sfZ9ONDMKBp06v-09YV_4,1407
+smart_kit/template/static/references/classifiers_data/src.py,sha256=wHJ6M27zlcYX6cT7kvLH1scEWCRKJ8ItDnkwSP-4D14,1300
 smart_kit/template/static/references/field_fillers/field_fillers.json,sha256=PySKXO_ihethiLyw2ozfHviprrBaSO3cMMQVnF-TfJo,704
 smart_kit/template/static/references/forms/hello_form.json,sha256=48oDptMGIWae-q7oSeeK6FYBs06p-fKj4DQRc3ao0iE,8947
 smart_kit/template/static/references/history.json,sha256=GLlIhS-DiM2qBqzyZkOSymNjq9Lk4lNhaps5DscgefE,78
 smart_kit/template/static/references/last_scenarios_descriptions.json,sha256=2RQXb9UL1_VlcAAGoxqpe3nTrRfO4gyOX_IGHVy3SBc,4
 smart_kit/template/static/references/predefined_fields_storage.json,sha256=2qnR53Ooc1neslFjkchzqkdeoNlmmGKtXtGazRQqD3o,1090
 smart_kit/template/static/references/preprocessing_messages_for_scenarios_settings.json,sha256=g2Pn55fGZapTkWp9_Z2tV5WKhD_5BizvQZO_mp3IO8U,40
 smart_kit/template/static/references/responses.json,sha256=Zm4S_yd6AJX8uccdm6S6gJgv0j98HrleZThL6jKcJkg,68
@@ -317,14 +321,14 @@
 smart_kit/text_preprocessing/text2num.py,sha256=5g5kSefNNtzwwiVyCfLvsCaoZTjqF8aAox9XRa_GuVQ,13525
 smart_kit/text_preprocessing/utils.py,sha256=MgLlYFmmCByWmNFBM_rf1RnvBZFQTvR_YCnlcEe0-A8,24231
 smart_kit/utils/SmartAppToMessage_pb2.py,sha256=PVabsQZGv0mQu5meCe8IWk0t3CcoJmVUIC83emQuYic,8290
 smart_kit/utils/__init__.py,sha256=CpZK3Ygk7w6USZDlrTu1GNjNlqboIm-Za_6eoGTbWuQ,486
 smart_kit/utils/cache.py,sha256=Lut5HMkfoeiRwCCnZoSHw7srWYn3Y0fD-hUJWckDBf8,1325
 smart_kit/utils/diff.py,sha256=rUdzi6f8mtXacNL6HvVYVoOnXD_M3FEMHFsMhPo0YL0,2899
 smart_kit/utils/logger_writer/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-smart_kit/utils/logger_writer/logger_formatter.py,sha256=Xkum0YisA1jYcEh3MHIAfvJttmp3hwxnyhWK5UV12Pc,1504
+smart_kit/utils/logger_writer/logger_formatter.py,sha256=bC7tdYW480irANhxaFxiKgnAsvmz-luf52WSu7ZjnIU,3385
 smart_kit/utils/monitoring.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 smart_kit/utils/object_location.py,sha256=uJmTxBBeeyvwahiA1TMKr2rzDW9R1bh-FwK663zoBe4,332
 smart_kit/utils/picklable_mock.py,sha256=PxrgnKue58GFpVZMBGIQq36LPnITFzfNA21euCbfViE,320
-smart_app_framework-2.0.1rc9.dist-info/METADATA,sha256=_sw8iOho61lpC1mMcFKwe1e-Ln173yh4YVq7Sqv_hp0,10421
-smart_app_framework-2.0.1rc9.dist-info/WHEEL,sha256=7Z8_27uaHI_UZAc4Uox4PpBhQ9Y5_modZXWMxtUi4NU,88
-smart_app_framework-2.0.1rc9.dist-info/RECORD,,
+smart_app_framework-2.0.2rc1.dist-info/METADATA,sha256=BygaYqSx6kjHhjJTwmJLBenxnvARzfMAxvZyN3_XwdA,10830
+smart_app_framework-2.0.2rc1.dist-info/WHEEL,sha256=7Z8_27uaHI_UZAc4Uox4PpBhQ9Y5_modZXWMxtUi4NU,88
+smart_app_framework-2.0.2rc1.dist-info/RECORD,,
```

